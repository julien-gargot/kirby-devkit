(function(t){function e(e){for(var n,a,o=e[0],l=e[1],u=e[2],p=0,f=[];p<o.length;p++)a=o[p],s[a]&&f.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},s={1:0},r=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([69,0]),i()})({"+5YH":function(t,e,i){},"+PK2":function(t,e,i){},"+tpR":function(t,e,i){},"/Kt2":function(t,e,i){"use strict";var n=i("Yu5e"),s=i.n(n);s.a},"/axh":function(t,e,i){},"/icK":function(t,e,i){},"03sj":function(t,e,i){"use strict";var n=i("Wtuw"),s=i.n(n);s.a},"0xNe":function(t,e,i){"use strict";var n=i("VrYf"),s=i.n(n);s.a},"1D3v":function(t,e,i){},"1N0T":function(t,e,i){},"1rVD":function(t,e,i){"use strict";var n=i("Yf4S"),s=i.n(n);s.a},"2WOz":function(t,e,i){"use strict";var n=i("zZag"),s=i.n(n);s.a},"31zc":function(t,e,i){"use strict";var n=i("GuHX"),s=i.n(n);s.a},"3Bb8":function(t,e,i){},"4G8q":function(t,e,i){"use strict";var n=i("gJ05"),s=i.n(n);s.a},"4Q39":function(t,e,i){"use strict";var n=i("1N0T"),s=i.n(n);s.a},"5TyM":function(t,e,i){"use strict";var n=i("81jy"),s=i.n(n);s.a},"5XVn":function(t,e,i){"use strict";var n=i("ziCH"),s=i.n(n);s.a},69:function(t,e,i){t.exports=i("Vtdi")},"6dJ5":function(t,e,i){},"7ALn":function(t,e,i){},"7Zch":function(t,e,i){},"7gCk":function(t,e,i){},"81jy":function(t,e,i){},"8SgZ":function(t,e,i){},"8aEd":function(t,e,i){"use strict";var n=i("UIzv"),s=i.n(n);s.a},"8l0H":function(t,e,i){},"8n0F":function(t,e,i){"use strict";var n=i("/axh"),s=i.n(n);s.a},"9b9R":function(t,e,i){},"9ozV":function(t,e,i){},"9z72":function(t,e,i){"use strict";var n=i("6dJ5"),s=i.n(n);s.a},A4tC:function(t,e,i){},AQHP:function(t,e,i){"use strict";var n=i("9b9R"),s=i.n(n);s.a},B4vZ:function(t,e,i){"use strict";var n=i("H9Tb"),s=i.n(n);s.a},BERb:function(t,e,i){},C6E6:function(t,e,i){},D0A6:function(t,e,i){"use strict";var n=i("+5YH"),s=i.n(n);s.a},DAof:function(t,e,i){"use strict";var n=i("Rq3h"),s=i.n(n);s.a},DdsP:function(t,e,i){},"E+yj":function(t,e,i){"use strict";var n=i("PQ1x"),s=i.n(n);s.a},EDLj:function(t,e,i){"use strict";var n=i("yxWV"),s=i.n(n);s.a},EhXH:function(t,e,i){"use strict";var n=i("A4tC"),s=i.n(n);s.a},GDe0:function(t,e,i){},GuHX:function(t,e,i){},H9Tb:function(t,e,i){},Hmvo:function(t,e,i){"use strict";var n=i("Qemm"),s=i.n(n);s.a},Ht2a:function(t,e,i){"use strict";var n=i("efzP"),s=i.n(n);s.a},ILq4:function(t,e,i){"use strict";var n=i("C6E6"),s=i.n(n);s.a},"J3b/":function(t,e,i){"use strict";var n=i("OF/w"),s=i.n(n);s.a},JgmC:function(t,e,i){},Jpho:function(t,e,i){"use strict";var n=i("T6Ax"),s=i.n(n);s.a},JuT4:function(t,e,i){},Ku8N:function(t,e,i){},LmTN:function(t,e,i){"use strict";var n=i("QhZS"),s=i.n(n);s.a},M5gg:function(t,e,i){},"MQI+":function(t,e,i){"use strict";var n=i("RrBT"),s=i.n(n);s.a},NHEA:function(t,e,i){"use strict";var n=i("UhqW"),s=i.n(n);s.a},NajB:function(t,e,i){"use strict";var n=i("Rgvt"),s=i.n(n);s.a},"OF/w":function(t,e,i){},OG5R:function(t,e,i){},OU3s:function(t,e,i){"use strict";var n=i("YCRq"),s=i.n(n);s.a},PF68:function(t,e,i){},PQ1x:function(t,e,i){},PmTN:function(t,e,i){},Qemm:function(t,e,i){},QhZS:function(t,e,i){},R2uX:function(t,e,i){"use strict";var n=i("pImj"),s=i.n(n);s.a},Rgvt:function(t,e,i){},Rq3h:function(t,e,i){},RrBT:function(t,e,i){},S5wT:function(t,e,i){"use strict";var n=i("PmTN"),s=i.n(n);s.a},SETK:function(t,e,i){},T1cW:function(t,e,i){},T6Ax:function(t,e,i){},T8R9:function(t,e,i){"use strict";var n=i("ovhJ"),s=i.n(n);s.a},ToZ2:function(t,e,i){"use strict";var n=i("1D3v"),s=i.n(n);s.a},TrPo:function(t,e,i){"use strict";var n=i("/icK"),s=i.n(n);s.a},UIot:function(t,e,i){"use strict";var n=i("+tpR"),s=i.n(n);s.a},UIzv:function(t,e,i){},UhqW:function(t,e,i){},UmCF:function(t,e,i){"use strict";var n=i("mpKO"),s=i.n(n);s.a},VRjG:function(t,e,i){},VrYf:function(t,e,i){},Vtdi:function(t,e,i){"use strict";i.r(e);i("VRzm");var n=i("oCYn"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$store.state.system.info.isBroken?i("kirby-error-view",[t._v("\n  The panel cannot connect to the API ðŸ˜­\n")]):i("div",{staticClass:"kirby-panel",attrs:{"data-dragging":t.$store.state.drag,"data-loading":t.$store.state.isLoading}},[i("kirby-topbar"),t.$store.state.search?i("kirby-search",t._b({},"kirby-search",t.$store.state.search,!1)):t._e(),i("kirby-license-bar"),i("main",{staticClass:"kirby-panel-view"},[i("router-view")],1),i("kirby-form-buttons"),i("kirby-error-dialog"),t.offline?i("div",{staticClass:"kirby-offline-warning"},[i("p",[t._v("The panel is currently offline")])]):t._e()],1)},r=[],a=(i("OG14"),function(){var t=this,e=t.$createElement;t._self._c;return t._e()}),o=[],l=i("yT7P"),u=window.panel||{},c={assets:"@/assets",api:"/api",site:"http://kir.by",url:"/",debug:!0,translation:"en"},p=Object(l["a"])({},c,u),f={data:function(){return{dropzone:!1}},computed:{isVisible:function(){return!this.$route.meta.outside&&(!!this.$store.state.system.info.isOk&&!this.$store.state.system.info.license)}},methods:{drop:function(t){this.$refs.upload.drop(t,{url:p.api+"/system/register",multiple:!1})},uploaded:function(){this.$store.dispatch("notification/success","Thank you for registering Kirby!"),this.$store.dispatch("system/load",!0),this.dropzone=!1}}},d=f,h=(i("Hmvo"),i("KHd+")),m=Object(h["a"])(d,a,o,!1,null,null,null),b=m.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-search",on:{click:t.close}},[i("div",{staticClass:"kirby-search-box",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"kirby-search-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],ref:"input",attrs:{type:"text"},domProps:{value:t.q},on:{input:[function(e){e.target.composing||(t.q=e.target.value)},function(e){t.search(t.q)}],keydown:[function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.down(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.up(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?(e.preventDefault(),t.tab(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.close(e):null},function(e){return("button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"]))&&e.metaKey?"button"in e&&0!==e.button?null:(e.preventDefault(),t.back(e)):null},function(e){return("button"in e||!t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"]))&&e.metaKey?"button"in e&&2!==e.button?null:(e.preventDefault(),t.tab(e)):null}]}}),i("kirby-button",{directives:[{name:"show",rawName:"v-show",value:t.parent.length,expression:"parent.length"}],attrs:{icon:"parent"},on:{click:t.back}}),i("kirby-button",{attrs:{icon:"cancel"},on:{click:t.close}})],1),i("ul",t._l(t.pages,function(e,n){return i("li",{key:e.id,attrs:{"data-selected":t.selected===n},on:{mouseover:function(e){t.selected=n}}},[i("kirby-link",{attrs:{to:"/pages/"+e.id.replace("/","+")},on:{click:function(e){t.click(n)}}},[i("strong",[t._v(t._s(e.title))]),i("small",[t._v(t._s(e.id))])]),e.hasChildren?i("kirby-button",{attrs:{icon:"angle-right"},on:{click:function(e){t.selected=n,t.tab()}}}):t._e()],1)})),0===t.pages.length?i("div",{staticClass:"kirby-search-empty"},[t._v("\n      "+t._s(t.$t("search.noSubpages"))+"\n    ")]):t._e()])])},v=[],y=(i("KKXr"),i("pIFo"),{data:function(){return{pages:[],parent:"",path:"",q:"",query:null,selected:-1}},mounted:function(){var t=this;this.$route.params.path?this.search(this.$route.params.path+"/"):this.search(),this.q="/"+this.path;var e=this.parent.lastIndexOf("/")+2,i=this.q.length;this.$nextTick(function(){t.$refs.input.setSelectionRange?(t.$refs.input.setSelectionRange(e,i),t.$refs.input.focus()):t.$refs.input.select()})},methods:{open:function(t){t.preventDefault(),this.$store.dispatch("search",!0)},parse:function(t){this.path=String(t||"").replace("+","/");var e=this.path.toLowerCase().replace(/^\//,"").split("/");this.parent="",this.query="",1===e.length?this.query=e[0]:e.length>1&&(this.parent=e.slice(0,-1).join("/"),this.query=e.slice(-1)[0])},back:function(){var t=this.q.replace(/\/$/,"").split("/").slice(0,-1).join("/");this.q=t+"/",this.search(this.q),this.$refs.input.focus()},click:function(t){this.selected=t,this.tab()},close:function(){this.$store.dispatch("search",!1)},down:function(){this.selected<this.pages.length-1&&this.selected++},enter:function(){var t=this.pages[this.selected]||this.pages[0];t&&(this.search(t.id),this.navigate(t))},navigate:function(t){this.$router.push("/pages/"+t.id.replace("/","+")),this.$store.dispatch("search",!1)},search:function(t){var e=this;this.parse(t);var i=null;this.query.length&&(i={filterBy:[{field:"uid",operator:"*=",value:this.query}]}),this.$api.pages.search(this.parent,i).then(function(t){e.pages=t.data,e.selected=-1}).catch(function(){e.pages=[],e.selected=-1})},tab:function(){var t=this.pages[this.selected];t&&(this.q="/"+t.id+"/",this.search(this.q),!1===t.hasChildren&&this.navigate(t))},up:function(){this.selected>=0&&this.selected--}}}),k=y,$=(i("AQHP"),Object(h["a"])(k,g,v,!1,null,null,null)),_=$.exports,w={name:"App",components:{"kirby-license-bar":b,"kirby-search":_},data:function(){return{offline:!1,dragging:!1}},created:function(){this.$events.$on("offline",this.isOffline),this.$events.$on("online",this.isOnline),this.$events.$on("keydown.cmd.shift.f",this.search),this.$events.$on("drop",this.drop)},destroyed:function(){this.$events.$off("offline",this.isOffline),this.$events.$off("online",this.isOnline),this.$events.$off("keydown.cmd.shift.f",this.search),this.$events.$off("drop",this.drop)},methods:{drop:function(){this.$store.dispatch("drag",null)},isOnline:function(){this.offline=!1},isOffline:function(){!1===this.$store.state.system.info.isLocal&&(this.offline=!0)},search:function(t){t.preventDefault(),this.$store.dispatch("search",!0)}}},x=w,O=(i("nNx0"),Object(h["a"])(x,s,r,!1,null,null,null)),C=O.exports,S=i("Hc5T"),j=i.n(S),E=i("FRYs"),T=i.n(E);i("Z2Ku"),i("L9s1");function I(t){var e=String(t);return e.charAt(0).toUpperCase()+e.substr(1)}function q(t){var e=String(t);return e.charAt(0).toLowerCase()+e.substr(1)}var A,N,L,B,D,P,R,z,M={install:function(t){t.prototype.$events=new t({data:function(){return{entered:null}},created:function(){window.addEventListener("online",this.online),window.addEventListener("offline",this.offline),window.addEventListener("dragenter",this.dragenter,!1),window.addEventListener("dragover",this.prevent,!1),window.addEventListener("dragexit",this.prevent,!1),window.addEventListener("dragleave",this.dragleave,!1),window.addEventListener("drop",this.drop,!1),window.addEventListener("keydown",this.keydown,!1),window.addEventListener("keyup",this.keyup,!1),document.addEventListener("click",this.click,!1)},destroyed:function(){window.removeEventListener("online",this.online),window.removeEventListener("offline",this.offline),window.removeEventListener("dragenter",this.dragenter,!1),window.removeEventListener("dragover",this.prevent,!1),window.removeEventListener("dragexit",this.prevent,!1),window.removeEventListener("dragleave",this.dragleave,!1),window.removeEventListener("drop",this.drop,!1),window.removeEventListener("keydown",this.keydown,!1),window.removeEventListener("keyup",this.keyup,!1),document.removeEventListener("click",this.click,!1)},methods:{click:function(t){this.$emit("click",t)},drop:function(t){this.prevent(t),this.$emit("drop",t)},dragenter:function(t){this.entered=t.target,this.prevent(t),this.$emit("dragenter",t)},dragleave:function(t){this.prevent(t),this.entered===t.target&&this.$emit("dragleave",t)},keydown:function(t){var e=["keydown"];(t.metaKey||t.ctrlKey)&&e.push("cmd"),!0===t.altKey&&e.push("alt"),!0===t.shiftKey&&e.push("shift");var i=q(t.key),n={escape:"esc",arrowUp:"up",arrowDown:"down",arrowLeft:"left",arrowRight:"right"};n[i]&&(i=n[i]),!1===["alt","control","shift","meta"].includes(i)&&e.push(i),this.$emit(e.join("."),t),this.$emit("keydown",t)},keyup:function(t){this.$emit("keyup",t)},online:function(t){this.$emit("online",t)},offline:function(t){this.$emit("offline",t)},prevent:function(t){t.stopPropagation(),t.preventDefault()}}})}},H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-bar"},[t.$slots.left?i("div",{staticClass:"kirby-bar-slot",attrs:{"data-position":"left"}},[t._t("left")],2):t._e(),t.$slots.center?i("div",{staticClass:"kirby-bar-slot",attrs:{"data-position":"center"}},[t._t("center")],2):t._e(),t.$slots.right?i("div",{staticClass:"kirby-bar-slot",attrs:{"data-position":"right"}},[t._t("right")],2):t._e()])},U=[],V=(i("xOR0"),{}),F=Object(h["a"])(V,H,U,!1,null,null,null),K=F.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({staticClass:"kirby-box",attrs:{"data-theme":t.theme}},t.$listeners),[t._t("default",[i("kirby-text",{domProps:{innerHTML:t._s(t.text)}})])],2)},G=[],J={props:{theme:String,text:String}},Y=J,Z=(i("q75U"),Object(h["a"])(Y,W,G,!1,null,null,null)),Q=Z.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.component,t._g({directives:[{name:"tab",rawName:"v-tab"}],ref:"button",tag:"component",staticClass:"kirby-button",attrs:{"aria-current":t.current,id:t.id,disabled:t.disabled,"data-tabbed":t.tabbed,"data-theme":t.theme,"data-responsive":t.responsive,tabindex:t.tabindex,target:t.target,title:t.tooltip,to:t.link,type:t.link?null:t.type}},t.$listeners),[t.image||t.icon?i("figure",{staticClass:"kirby-button-figure"},[t.image?i("img",{attrs:{src:t.imageUrl,alt:t.tooltip||""}}):i("kirby-icon",{attrs:{type:t.icon,alt:t.tooltip}})],1):t._e(),t.$slots.default?i("span",{staticClass:"kirby-button-text"},[t._t("default")],2):t._e()])},tt=[],et=i("a94B"),it=(i("tUrg"),i("xfY5"),{inheritAttrs:!1,props:{current:[String,Boolean],disabled:Boolean,icon:String,id:[String,Number],image:[String,Object],link:String,responsive:Boolean,target:String,tabindex:String,theme:String,tooltip:String,type:{type:String,default:"button"}},data:function(){return{tabbed:!1}},computed:{component:function(){return this.link?"kirby-link":"button"},imageUrl:function(){return this.image?"object"===Object(et["a"])(this.image)?this.image.url:this.image:null}},methods:{focus:function(){this.$refs.button.focus()},tab:function(){this.focus(),this.tabbed=!0},untab:function(){this.tabbed=!1}}}),nt=it,st=(i("hX7B"),Object(h["a"])(nt,X,tt,!1,null,null,null)),rt=st.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-button-group"},[t._t("default")],2)},ot=[],lt=(i("dv9g"),{}),ut=Object(h["a"])(lt,at,ot,!1,null,null,null),ct=ut.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-calendar-input"},[i("nav",[i("kirby-button",{attrs:{icon:"angle-left"},on:{click:t.prev}}),i("span",{staticClass:"kirby-calendar-selects"},[i("kirby-select-input",{attrs:{options:t.months,disabled:t.disabled},model:{value:t.month,callback:function(e){t.month=t._n(e)},expression:"month"}}),i("kirby-select-input",{attrs:{options:t.years,disabled:t.disabled},model:{value:t.year,callback:function(e){t.year=t._n(e)},expression:"year"}})],1),i("kirby-button",{attrs:{icon:"angle-right"},on:{click:t.next}})],1),i("table",{staticClass:"kirby-calendar-table"},[i("thead",[i("tr",t._l(t.weekdays,function(e){return i("th",{key:"weekday_"+e},[t._v(t._s(e))])}))]),i("tbody",t._l(t.numberOfWeeks,function(e){return i("tr",{key:"week_"+e},t._l(t.days(e),function(e,n){return i("td",{key:"day_"+n,staticClass:"kirby-calendar-day",attrs:{"aria-current":!!t.isToday(e)&&"date","aria-selected":!!t.isCurrent(e)&&"date"}},[e?i("kirby-button",{on:{click:function(i){t.select(e)}}},[t._v(t._s(e))]):t._e()],1)}))})),i("tfoot",[i("tr",[i("td",{staticClass:"kirby-calendar-today",attrs:{colspan:"7"}},[i("kirby-button",{on:{click:function(e){t.go("today")}}},[t._v(t._s(t._f("t")("today","field.calendar.today")))])],1)])])])])},ft=[],dt=(i("rGqo"),i("Wgwc")),ht=i.n(dt),mt=function(t,e){t=String(t);var i="";e=(e||2)-t.length;while(i.length<e)i+="0";return i+t},bt={props:{value:String,disabled:Boolean},data:function(){var t=this.value?ht()(this.value):ht()();return{day:t.date(),month:t.month(),year:t.year(),today:ht()(),current:t}},computed:{date:function(){return ht()("".concat(this.year,"-").concat(this.month+1,"-").concat(this.day))},numberOfDays:function(){return this.date.daysInMonth()},numberOfWeeks:function(){return Math.ceil((this.numberOfDays+this.firstWeekday-1)/7)},firstWeekday:function(){var t=this.date.clone().startOf("month").day();return t>0?t:7},weekdays:function(){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},monthnames:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},months:function(){var t=[];return this.monthnames.forEach(function(e,i){t.push({value:i,text:e})}),t},years:function(){for(var t=[],e=this.year-10;e<=this.year+10;e++)t.push({value:e,text:mt(e)});return t}},watch:{value:function(t){var e=ht()(t);this.day=e.date(),this.month=e.month(),this.year=e.year(),this.current=e}},methods:{days:function(t){for(var e=[],i=7*(t-1)+1,n=i;n<i+7;n++){var s=n-(this.firstWeekday-1);s<=0||s>this.numberOfDays?e.push(""):e.push(s)}return e},next:function(){var t=this.date.clone().add(1,"month");this.set(t)},isToday:function(t){return this.month===this.today.month()&&this.year===this.today.year()&&t===this.today.date()},isCurrent:function(t){return this.month===this.current.month()&&this.year===this.current.year()&&t===this.current.date()},prev:function(){var t=this.date.clone().subtract(1,"month");this.set(t)},go:function(t,e){"today"===t&&(t=this.today.year(),e=this.today.month()),this.year=t,this.month=e},set:function(t){this.day=t.date(),this.month=t.month(),this.year=t.year()},select:function(t){t&&(this.day=t);var e=ht()(new Date(this.year,this.month,this.day,this.current.hour(),this.current.minute()));this.$emit("input",e.toISOString())}}},gt=bt,vt=(i("5XVn"),Object(h["a"])(gt,pt,ft,!1,null,null,null)),yt=vt.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("figure",t._g({staticClass:"kirby-card"},t.$listeners),[t.sortable?i("kirby-icon",{staticClass:"kirby-sort-handle",attrs:{type:"sort"}}):t._e(),i(t.wrapper,{tag:"component",attrs:{to:t.link,target:t.target}},[t.image&&t.image.url?i("kirby-image",{staticClass:"kirby-card-image",attrs:{src:t.image.url,ratio:t.image.ratio||"3/2",back:t.image.back||"black",cover:t.image.cover}}):i("span",{staticClass:"kirby-card-icon",style:"padding-bottom:"+t.ratioPadding},[i("kirby-icon",t._b({},"kirby-icon",t.icon,!1))],1)],1),i("figcaption",[i("div",{staticClass:"kirby-card-content"},[i(t.wrapper,{tag:"component",attrs:{to:t.link,target:t.target,tabindex:"-1"}},[i("p",{staticClass:"kirby-card-text"},[t._v(t._s(t.text))]),t.info?i("p",{staticClass:"kirby-card-info"},[t._v(t._s(t.info))]):t._e()])],1),i("nav",{staticClass:"kirby-card-options"},[t.flag?i("kirby-button",t._b({staticClass:"kirby-card-options-button",on:{click:t.flag.click}},"kirby-button",t.flag,!1)):t._e(),t.options?[i("kirby-button",{staticClass:"kirby-card-options-button",attrs:{icon:"dots"},on:{click:function(e){e.stopPropagation(),t.$refs.dropdown.toggle()}}}),i("kirby-dropdown-content",{ref:"dropdown",staticClass:"kirby-card-options-dropdown",attrs:{options:t.options,align:"right"},on:{action:function(e){t.$emit("action",e)}}})]:t._e()],2)])],1)},$t=[],_t=function(t){t=t||"3/2";var e=t.split("/");if(2!==e.length)return"100%";var i=Number(e[0]),n=Number(e[1]),s=100/i*n;return s+"%"},wt={inheritAttrs:!1,props:{flag:Object,icon:{type:Object,default:function(){return{type:"file",back:"black"}}},image:Object,info:String,link:String,options:[Array,Function],sortable:Boolean,target:String,text:String},computed:{wrapper:function(){return this.link?"kirby-link":"div"},ratioPadding:function(){return _t(this.image.ratio)}}},xt=wt,Ot=(i("OU3s"),Object(h["a"])(xt,kt,$t,!1,null,null,null)),Ct=Ot.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-cards"},[t._t("default",t._l(t.cards,function(e,n){return i("kirby-card",t._g(t._b({key:n},"kirby-card",e,!1),t.$listeners))}))],2)},jt=[],Et={props:{cards:Array}},Tt=Et,It=(i("UmCF"),Object(h["a"])(Tt,St,jt,!1,null,null,null)),qt=It.exports,At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-collection",attrs:{"data-layout":t.layout}},[i("kirby-draggable",{attrs:{list:t.items,options:t.dragOptions,element:t.elements.list},on:{start:t.onStart,change:function(e){t.$emit("change",e)},end:t.onEnd}},t._l(t.items,function(e,n){return i(t.elements.item,t._b({key:n,tag:"component",class:{"kirby-draggable-item":e.sortable},on:{action:function(i){t.$emit("action",e,i)},dragstart:function(i){t.onDragStart(i,e.dragText)}}},"component",e,!1))})),!1!==t.pagination&&!0!==t.paginationOptions.hide?i("kirby-pagination",t._b({on:{paginate:function(e){t.$emit("paginate",e)}}},"kirby-pagination",t.paginationOptions,!1)):t._e()],1)},Nt=[],Lt={props:{items:{type:[Array,Object],default:function(){return[]}},layout:{type:String,default:"list"},sortable:Boolean,pagination:{type:[Boolean,Object],default:function(){return!1}}},data:function(){return{list:this.items}},computed:{dragOptions:function(){return{sort:this.sortable,forceFallback:!0,fallbackClass:"sortable-fallback",filter:".disabled",delay:1,disabled:!1===this.sortable,draggable:".kirby-draggable-item",handle:".kirby-sort-handle"}},elements:function(){var t={cards:{list:"kirby-cards",item:"kirby-card"},list:{list:"kirby-list",item:"kirby-list-item"}};return t[this.layout]?t[this.layout]:t["list"]},paginationOptions:function(){var t="object"!==Object(et["a"])(this.pagination)?{}:this.pagination;return Object(l["a"])({limit:10,align:"center",details:!0,keys:!1,total:0,hide:!1},t)}},watch:{items:function(){this.list=this.items},$props:function(){this.$forceUpdate()}},over:null,methods:{onEnd:function(){this.over&&this.over.removeAttribute("data-over"),this.$emit("sort",this.items),this.$store.dispatch("drag",null)},onDragStart:function(t,e){this.$store.dispatch("drag",{type:"text",data:e})},onStart:function(){this.$store.dispatch("drag",{type:"item"})}}},Bt=Lt,Dt=(i("LmTN"),Object(h["a"])(Bt,At,Nt,!1,null,null,null)),Pt=Dt.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-column",attrs:{"data-width":t.width}},[i("div",{staticClass:"kirby-column-content"},[t._t("default")],2)])},zt=[],Mt={name:"KirbyColumn",props:{width:String}},Ht=Mt,Ut=(i("B4vZ"),Object(h["a"])(Ht,Rt,zt,!1,null,null,null)),Vt=Ut.exports,Ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"kirby-counter",attrs:{"data-invalid":!t.valid}},[i("span",[t._v(t._s(t.count))]),t.min&&t.max?i("span",{staticClass:"kirby-counter-rules"},[t._v("("+t._s(t.min)+"â€“"+t._s(t.max)+")")]):t.min?i("span",{staticClass:"kirby-counter-rules"},[t._v(">= "+t._s(t.min))]):t.max?i("span",{staticClass:"kirby-counter-rules"},[t._v("<= "+t._s(t.max))]):t._e()])},Kt=[],Wt={props:{count:Number,min:Number,max:Number,required:{type:Boolean,default:!1}},computed:{valid:function(){return!1===this.required&&0===this.count||(!0!==this.required||0!==this.count)&&(!(this.min&&this.count<this.min)&&!(this.max&&this.count>this.max))}}},Gt=Wt,Jt=(i("8aEd"),Object(h["a"])(Gt,Ft,Kt,!1,null,null,null)),Yt=Jt.exports,Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"kirby-dialog-transition"}},[t.isOpen?i("div",{staticClass:"kirby-dialog",on:{click:t.cancel}},[i("div",{staticClass:"kirby-dialog-box",attrs:{"data-size":t.size},on:{click:function(t){t.stopPropagation()}}},[t.notification?i("div",{staticClass:"kirby-dialog-notification",attrs:{"data-theme":t.notification.type}},[i("p",[t._v(t._s(t.notification.message))]),i("kirby-button",{attrs:{icon:"cancel"},on:{click:function(e){t.notification=null}}})],1):t._e(),i("div",{staticClass:"kirby-dialog-body"},[t._t("default")],2),t._t("footer",[i("footer",{staticClass:"kirby-dialog-footer"},[i("kirby-button-group",[i("kirby-button",{attrs:{icon:"cancel"},on:{click:t.cancel}},[t._v("\n              "+t._s(t._f("t")("Cancel","cancel"))+"\n            ")]),i("kirby-button",{attrs:{icon:t.icon,theme:t.theme},on:{click:t.submit}},[t._v("\n              "+t._s(t.button||t.t("confirm"))+"\n            ")])],1)],1)])],2)]):t._e()])},Qt=[],Xt={props:{button:{type:String,default:"Ok"},icon:{type:String,default:"check"},size:String,theme:String,visible:Boolean},data:function(){return{notification:null,isOpen:this.visible}},mounted:function(){!0===this.isOpen&&this.$emit("open")},methods:{open:function(){var t=this;this.notification=null,this.isOpen=!0,this.$emit("open"),this.$events.$on("keydown.esc",this.close),this.$nextTick(function(){if(t.$el&&t.$el.querySelector){var e=t.$el.querySelector("input, textarea, select, button:not([data-options])");e&&e.focus()}})},close:function(){this.notification=null,this.isOpen=!1,this.$emit("close"),this.$events.$off("keydown.esc",this.close)},cancel:function(){this.$emit("cancel"),this.close()},error:function(t){this.notification={message:t,type:"error"}},submit:function(){this.$emit("submit")},success:function(t){this.notification={message:t,type:"success"}}}},te=Xt,ee=(i("03sj"),Object(h["a"])(te,Zt,Qt,!1,null,null,null)),ie=ee.exports,ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"kirby-dropdown",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)},se=[],re=(i("qDz6"),{}),ae=Object(h["a"])(re,ne,se,!1,null,null,null),oe=ae.exports,le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isOpen?i("div",{staticClass:"kirby-dropdown-content",attrs:{"data-align":t.align}},[t._t("default",t._l(t.items,function(e,n){return i("kirby-dropdown-item",t._b({key:t._uid+"-item-"+n,ref:t._uid+"-item-"+n,refInFor:!0,on:{click:function(i){t.$emit("action",e.click)}}},"kirby-dropdown-item",e,!1),[t._v("\n      "+t._s(e.text)+"\n    ")])}))],2):t._e()},ue=[],ce=null,pe={props:{options:[Array,Function],align:String},data:function(){return{items:[],current:-1,isOpen:!1}},methods:{fetchOptions:function(t){if(!this.options)return t(this.items);"string"===typeof this.options?fetch(this.options).then(function(t){return t.json()}).then(function(e){return t(e)}):"function"===typeof this.options?this.options(t):Array.isArray(this.options)&&t(this.options)},open:function(){var t=this;ce&&ce!==this&&ce.close(),this.fetchOptions(function(e){t.$events.$on("keydown",t.navigate),t.$events.$on("click",t.close),t.items=e,t.isOpen=!0,t.current=-1,t.$emit("open"),ce=t})},close:function(){this.$events.$off("keydown",this.navigate),this.$events.$off("click",this.close),this.isOpen=ce=!1,this.$emit("close")},toggle:function(){this.isOpen?this.close():this.open()},focus:function(t){t=t||0,this.$children[t]&&this.$children[t].focus&&this.$children[t].focus()},navigate:function(t){switch(t.code){case"Escape":case"ArrowLeft":this.close();break;case"ArrowUp":t.preventDefault(),this.current>0?(this.current--,this.focus(this.current)):this.close();break;case"ArrowDown":t.preventDefault(),this.current<this.$children.length-1&&(this.current++,this.focus(this.current));break}}}},fe=pe,de=(i("31zc"),Object(h["a"])(fe,le,ue,!1,null,null,null)),he=de.exports,me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-button",t._g(t._b({ref:"button",staticClass:"kirby-dropdown-item"},"kirby-button",t.$props,!1),t.listeners),[t._t("default")],2)},be=[],ge={inheritAttrs:!1,props:{disabled:Boolean,icon:String,image:[String,Object],link:String,target:String,upload:String,current:[String,Boolean]},data:function(){var t=this;return{listeners:Object(l["a"])({},this.$listeners,{click:function(e){t.$parent.close(),t.$emit("click",e)}})}},methods:{focus:function(){this.$refs.button.focus()},tab:function(){this.$refs.button.tab()}}},ve=ge,ye=(i("anrZ"),Object(h["a"])(ve,me,be,!1,null,null,null)),ke=ye.exports,$e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-grid",attrs:{"data-gutter":t.gutter}},[t._t("default")],2)},_e=[],we={props:{gutter:String}},xe=we,Oe=(i("aZ2t"),Object(h["a"])(xe,$e,_e,!1,null,null,null)),Ce=Oe.exports,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"kirby-header",attrs:{"data-editable":t.editable}},[i("kirby-headline",{attrs:{tag:"h1",size:"huge"}},[t.editable&&t.$listeners.edit?i("span",{staticClass:"kirby-headline-editable",on:{click:function(e){t.$emit("edit")}}},[t._t("default"),i("kirby-icon",{attrs:{type:"edit"}})],2):t._t("default")],2),i("kirby-bar",[t._t("left",null,{slot:"left"}),t._t("right",null,{slot:"right"})],2),t.tabs&&t.tabs.length>1?i("div",{staticClass:"kirby-header-tabs",attrs:{"data-compact":t.tabs.length>=5}},[i("nav",t._l(t.tabs,function(e,n){return i("kirby-button",{key:n,staticClass:"kirby-tab-button",attrs:{link:"#"+e.name,current:t.currentTab&&t.currentTab.name===e.name,icon:e.icon,tooltip:e.label}},[t._v("\n        "+t._s(e.label)+"\n      ")])}))]):t._e()],1)},je=[],Ee={props:{editable:Boolean,tabs:Array,tab:Object},data:function(){return{currentTab:this.tab}},watch:{tab:function(){this.currentTab=this.tab}}},Te=Ee,Ie=(i("J3b/"),Object(h["a"])(Te,Se,je,!1,null,null,null)),qe=Ie.exports,Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.tag,t._g({tag:"component",staticClass:"kirby-headline",attrs:{"data-theme":t.theme,"data-size":t.size}},t.$listeners),[t.link?i("kirby-link",{attrs:{to:t.link}},[t._t("default")],2):t._t("default")],2)},Ne=[],Le={props:{link:String,size:{type:String},tag:{type:String,default:"h2"},theme:{type:String}}},Be=Le,De=(i("DAof"),Object(h["a"])(Be,Ae,Ne,!1,null,null,null)),Pe=De.exports,Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("i",{staticClass:"kirby-icon",attrs:{"aria-label":t.alt,role:t.alt?"img":null,"aria-hidden":!t.alt,"data-back":t.back}},[t.emoji?i("span",{staticClass:"kirby-icon-emoji"},[t._v(t._s(t.type))]):i("svg",{attrs:{viewBox:"0 0 16 16"}},[i("use",{attrs:{"xlink:href":"#icon-"+t.type}})])])},ze=[],Me={props:{alt:String,back:String,emoji:Boolean,type:String}},He=Me,Ue=(i("0xNe"),Object(h["a"])(He,Re,ze,!1,null,null,null)),Ve=Ue.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("figure",t._g({staticClass:"kirby-image",attrs:{"data-ratio":t.ratio,"data-back":t.back,"data-cover":t.cover}},t.$listeners),[i("span",{style:"padding-bottom:"+t.ratioPadding},[i("transition",{attrs:{name:"kirby-image-transition"}},[t.loaded?i("img",{attrs:{src:t.src,alt:t.alt||""},on:{dragstart:function(t){t.preventDefault()}}}):t._e()]),t.loaded||t.error?t._e():i("kirby-loader",{attrs:{position:"center",theme:"light"}}),!t.loaded&&t.error?i("kirby-icon",{staticClass:"kirby-image-error",attrs:{type:"cancel"}}):t._e()],1),t.caption?i("figcaption",{domProps:{innerHTML:t._s(t.caption)}}):t._e()])},Ke=[],We={props:{src:String,alt:String,ratio:String,back:String,caption:String,cover:Boolean},data:function(){return{loaded:{type:Boolean,default:!1},error:{type:Boolean,default:!1}}},computed:{ratioPadding:function(){return _t(this.ratio||"1/1")}},created:function(){var t=this,e=new Image;e.onload=function(){t.loaded=!0,t.$emit("load")},e.onerror=function(){t.error=!0,t.$emit("error")},e.src=this.src}},Ge=We,Je=(i("vU6B"),Object(h["a"])(Ge,Fe,Ke,!1,null,null,null)),Ye=Je.exports,Ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.to?i("a",t._g({ref:"link",staticClass:"kirby-link",attrs:{disabled:t.disabled,href:t.href,rel:t.relAttr,tabindex:t.tabindex,target:t.target,title:t.title}},t.listeners),[t._t("default")],2):i("span",{staticClass:"kirby-link",attrs:{title:t.title}},[t._t("default")],2)},Qe=[],Xe={props:{disabled:Boolean,rel:String,tabindex:String,target:String,title:String,to:String},data:function(){return{relAttr:"_blank"===this.target?"noreferrer noopener":this.rel,listeners:Object(l["a"])({},this.$listeners,{click:this.onClick})}},computed:{href:function(){return void 0!==this.$route&&"/"===this.to[0]?(this.$router.options.url||"")+this.to:this.to}},methods:{isRoutable:function(t){return void 0!==this.$route&&(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&(!t.defaultPrevented&&((void 0===t.button||0===t.button)&&!this.target)))},onClick:function(t){if(!0===this.disabled)return t.preventDefault(),!1;this.isRoutable(t)&&(t.preventDefault(),this.$router.push(this.to)),this.$emit("click",t)},focus:function(){this.$refs.link.focus()}}},ti=Xe,ei=Object(h["a"])(ti,Ze,Qe,!1,null,null,null),ii=ei.exports,ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-list"},[t._t("default",t._l(t.items,function(e,n){return i("kirby-list-item",t._g(t._b({key:n},"kirby-list-item",e,!1),t.$listeners))}))],2)},si=[],ri={props:{items:Array}},ai=ri,oi=Object(h["a"])(ai,ni,si,!1,null,null,null),li=oi.exports,ui=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.element,t._g({tag:"component",staticClass:"kirby-list-item"},t.$listeners),[t.sortable?i("kirby-icon",{staticClass:"kirby-sort-handle",attrs:{type:"sort"}}):t._e(),i("kirby-link",{directives:[{name:"tab",rawName:"v-tab"}],staticClass:"kirby-list-item-content",attrs:{to:t.link,target:t.target}},[i("figure",{staticClass:"kirby-list-item-image"},[t.image&&t.image.url?i("kirby-image",{attrs:{src:t.image.url,back:t.image.back||"pattern",cover:t.image.cover}}):i("kirby-icon",t._b({},"kirby-icon",t.icon,!1))],1),i("figcaption",{staticClass:"kirby-list-item-text"},[i("em",[t._v(t._s(t.text))]),t.info?i("small",[t._v(t._s(t.info))]):t._e()])]),i("div",{staticClass:"kirby-list-item-options"},[t._t("options",[t.flag?i("kirby-button",t._b({on:{click:t.flag.click}},"kirby-button",t.flag,!1)):t._e(),t.options?i("kirby-button",{staticClass:"kirby-list-item-toggle",attrs:{icon:"dots",alt:"Options"},on:{click:function(e){e.stopPropagation(),t.$refs.options.toggle()}}}):t._e(),i("kirby-dropdown-content",{ref:"options",attrs:{options:t.options,align:"right"},on:{action:function(e){t.$emit("action",e)}}})])],2)],1)},ci=[],pi={inheritAttrs:!1,props:{element:{type:String,default:"li"},image:Object,icon:{type:Object,default:function(){return{type:"file",back:"black"}}},sortable:Boolean,text:String,target:String,info:String,link:String,flag:Object,options:[Array,Function]}},fi=pi,di=(i("MQI+"),Object(h["a"])(fi,ui,ci,!1,null,null,null)),hi=di.exports,mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("kirby-button-group",{staticClass:"kirby-pagination",attrs:{"data-align":t.align}},[i("kirby-button",{attrs:{disabled:!t.hasPrev,alt:t.prevLabel,icon:"angle-left"},on:{click:t.prev}}),t.details?i("kirby-dropdown",[i("kirby-button",{attrs:{disabled:!t.hasPages},on:{click:function(e){t.$refs.dropdown.toggle()}}},[t.total>1?[t._v(t._s(t.detailsText))]:t._e(),t._v(t._s(t.total)+"\n    ")],2),i("kirby-dropdown-content",{ref:"dropdown",staticClass:"kirby-pagination-selector",on:{open:function(e){t.$nextTick(function(){return t.$refs.page.focus()})}}},[i("div",[i("label",{attrs:{for:"kirby-pagination-input"}},[t._v(t._s(t.pageLabel))]),i("input",{ref:"page",attrs:{id:"kirby-pagination-input",min:1,max:t.pages,type:"number"},domProps:{value:t.currentPage},on:{focus:function(t){t.target.select()},input:function(e){t.goTo(e.target.value)}}})])])],1):t._e(),i("kirby-button",{attrs:{disabled:!t.hasNext,alt:t.nextLabel,icon:"angle-right"},on:{click:t.next}})],1):t._e()},bi=[],gi=(i("yt8O"),{props:{align:{type:String,default:"left"},details:{type:Boolean,default:!1},page:{type:Number,default:1},total:{type:Number,default:0},limit:{type:Number,default:10},keys:{type:Boolean,default:!1},pageLabel:{type:String,default:"Page"},prevLabel:{type:String,default:"Previous"},nextLabel:{type:String,default:"Next"}},data:function(){return{currentPage:this.page}},computed:{show:function(){return this.pages>1},start:function(){return(this.currentPage-1)*this.limit+1},end:function(){var t=this.start-1+this.limit;return t>this.total?this.total:t},detailsText:function(){return 1===this.limit?this.start+" / ":this.start+"-"+this.end+" / "},pages:function(){return Math.ceil(this.total/this.limit)},hasPrev:function(){return this.start>1},hasNext:function(){return this.end<this.total},hasPages:function(){return this.total>this.limit},offset:function(){return this.start-1}},created:function(){!0===this.keys&&window.addEventListener("keydown",this.navigate,!1)},destroyed:function(){window.removeEventListener("keydown",this.navigate,!1)},methods:{goTo:function(t){t<1&&(t=1),t>this.pages&&(t=this.pages),this.currentPage=t,this.$emit("paginate",{page:parseInt(this.currentPage),start:this.start,end:this.end,limit:this.limit,offset:this.offset})},prev:function(){this.goTo(this.currentPage-1)},next:function(){this.goTo(this.currentPage+1)},navigate:function(t){switch(t.code){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break}}}}),vi=gi,yi=(i("4G8q"),Object(h["a"])(vi,mi,bi,!1,null,null,null)),ki=yi.exports,$i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("progress",{staticClass:"kirby-progress",attrs:{max:"100"},domProps:{value:t.state}},[t._v("\n  "+t._s(t.state)+"%\n")])},_i=[],wi={props:{value:{type:Number,default:0}},data:function(){return{state:this.value}},methods:{set:function(t){this.state=t}}},xi=wi,Oi=(i("z/ml"),Object(h["a"])(xi,$i,_i,!1,null,null,null)),Ci=Oi.exports,Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{ref:"button",staticClass:"kirby-tag",attrs:{"data-size":t.size,tabindex:"0"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete"])?(e.preventDefault(),t.remove(e)):null}}},[i("span",{staticClass:"kirby-tag-text"},[t._t("default")],2),t.removable?i("span",{staticClass:"kirby-tag-toggle",on:{click:t.remove}},[t._v("Ã—")]):t._e()])},ji=[],Ei={props:{removable:Boolean,size:String},methods:{remove:function(){this.removable&&this.$emit("remove")},focus:function(){this.$refs.button.focus()}}},Ti=Ei,Ii=(i("a8Mi"),Object(h["a"])(Ti,Si,ji,!1,null,null,null)),qi=Ii.exports,Ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-text",attrs:{"data-align":t.align,"data-size":t.size,"data-theme":t.theme}},[t._t("default")],2)},Ni=[],Li={props:{align:String,size:String,theme:String}},Bi=Li,Di=(i("5TyM"),Object(h["a"])(Bi,Ai,Ni,!1,null,null,null)),Pi=Di.exports,Ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-view",attrs:{"data-align":t.align}},[t._t("default")],2)},zi=[],Mi={props:{align:String}},Hi=Mi,Ui=(i("wAcn"),Object(h["a"])(Hi,Ri,zi,!1,null,null,null)),Vi=Ui.exports,Fi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dropdown",{staticClass:"kirby-autocomplete"},[t._t("default"),i("kirby-dropdown-content",{ref:"dropdown",on:{close:function(e){t.$emit("close",e)}}},t._l(t.matches,function(e,n){return i("kirby-dropdown-item",t._b({key:n,on:{click:function(i){t.onSelect(e)},keydown:[function(i){if(!("button"in i)&&t._k(i.keyCode,"tab",9,i.key,"Tab"))return null;i.preventDefault(),t.onSelect(e)},function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;i.preventDefault(),t.onSelect(e)},function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:(e.preventDefault(),t.close(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"backspace",void 0,e.key,void 0)?(e.preventDefault(),t.close(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete"])?(e.preventDefault(),t.close(e)):null}]}},"kirby-dropdown-item",e,!1),[t._v("\n      "+t._s(e.text)+"\n    ")])})),t._v("\n  "+t._s(t.query)+"\n")],2)},Ki=[],Wi=(i("SRfc"),i("Oyvg"),{props:{limit:10,skip:{type:Array,default:function(){return[]}},options:Array,query:String},data:function(){return{matches:[],selected:{text:null}}},methods:{close:function(){this.$refs.dropdown.close()},onSelect:function(t){this.$refs.dropdown.close(),this.$emit("select",t)},search:function(t){var e=this;if(!(t.length<1)&&-1===this.skip.indexOf(t)){var i=new RegExp(t,"ig");this.matches=this.options.filter(function(t){return!!t.text&&(-1===e.skip.indexOf(t.text)&&null!==t.text.match(i))}).slice(0,this.limit),this.$emit("search",t,this.matches),this.$refs.dropdown.open()}}}}),Gi=Wi,Ji=(i("j2Xn"),Object(h["a"])(Gi,Fi,Ki,!1,null,null,null)),Yi=Ji.exports,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{ref:"form",staticClass:"kirby-form",attrs:{method:"POST",autocomplete:"off",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._t("header"),t._t("default",[i("kirby-fieldset",t._g({ref:"fields",attrs:{disabled:t.disabled,fields:t.fields,validate:t.validate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t.listeners))]),t._t("footer"),i("input",{ref:"submitter",staticClass:"kirby-form-submitter",attrs:{type:"submit"}})],2)},Qi=[],Xi={props:{disabled:Boolean,fields:{type:[Array,Object],default:function(){return{}}},validate:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{errors:{},listeners:Object(l["a"])({},this.$listeners,{submit:this.onSubmit})}},methods:{focus:function(t){this.$refs.fields&&this.$refs.fields.focus&&this.$refs.fields.focus(t)},onSubmit:function(){this.$emit("submit",this.value)},submit:function(){this.$refs.submitter.click()}}},tn=Xi,en=(i("ToZ2"),Object(h["a"])(tn,Zi,Qi,!1,null,null,null)),nn=en.exports,sn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-field",attrs:{"data-disabled":t.disabled},on:{focusin:function(e){t.$emit("focus",e)}}},[t._t("header",[t.label||t.$slots.label||t.$slots.options?i("header",{staticClass:"kirby-field-header"},[t._t("label",[i("label",{staticClass:"kirby-field-label",attrs:{for:t.input}},[t._v(t._s(t.label)+" "),t.required?i("abbr",{attrs:{title:"This field is required"}},[t._v("*")]):t._e()])]),t._t("options"),t._t("counter",[t.counter?i("kirby-counter",t._b({staticClass:"kirby-field-counter",attrs:{required:t.required}},"kirby-counter",t.counter,!1)):t._e()])],2):t._e()]),t._t("default"),t._t("footer",[t.help||t.$slots.help?i("footer",{staticClass:"kirby-field-footer"},[t._t("help",[t.help?i("kirby-text",{staticClass:"kirby-field-help",attrs:{theme:"help"}},[t._v("\n          "+t._s(t.help)+"\n        ")]):t._e()])],2):t._e()])],2)},rn=[],an={inheritAttrs:!1,props:{counter:[Boolean,Object],disabled:Boolean,help:String,input:[String,Number],label:String,name:[String,Number],required:Boolean,type:String}},on=an,ln=(i("2WOz"),Object(h["a"])(on,sn,rn,!1,null,null,null)),un=ln.exports,cn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fieldset",{staticClass:"kirby-fieldset"},[i("kirby-grid",t._l(t.fields,function(e,n){return"hidden"!==e.type?i("kirby-column",{key:n,attrs:{width:e.width}},[t.hasFieldType(e.type)?i("kirby-"+e.type+"-field",t._b({ref:n,refInFor:!0,tag:"component",attrs:{name:n,validate:t.validate,disabled:t.disabled||e.disabled},on:{input:function(i){t.$emit("input",t.value,e,n)},focus:function(i){t.$emit("focus",i,e,n)},invalid:function(i,s){return t.onInvalid(i,s,e,n)},submit:function(i){t.$emit("submit",i,e,n)}},model:{value:t.value[n],callback:function(e){t.$set(t.value,n,e)},expression:"value[fieldName]"}},"component",e,!1)):i("kirby-box",{attrs:{theme:"negative"}},[i("kirby-text",{attrs:{size:"small",align:"center"}},[t._v("\n          The field type "),i("strong",[t._v('"'+t._s(n)+'"')]),t._v(" does not exist\n        ")])],1)],1):t._e()}))],1)},pn=[],fn=(i("RW0V"),i("f3/d"),{props:{disabled:Boolean,fields:{type:[Array,Object],default:function(){return[]}},validate:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{errors:{}}},methods:{focus:function(t){if(t)this.hasField(t)&&"function"===typeof this.$refs[t][0].focus&&this.$refs[t][0].focus();else{var e=Object.keys(this.$refs)[0];this.focus(e)}},hasFieldType:function(t){return n["a"].options.components["kirby-"+t+"-field"]},hasField:function(t){return this.$refs[t]&&this.$refs[t][0]},onInvalid:function(t,e,i,n){this.errors[n]=e,this.$emit("invalid",this.errors)}}}),dn=fn,hn=(i("wyKD"),Object(h["a"])(dn,cn,pn,!1,null,null,null)),mn=hn.exports,bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-input",attrs:{"data-disabled":t.disabled,"data-invalid":t.validate&&t.isInvalid,"data-theme":t.theme,"data-type":t.type}},[t.$slots.before||t.before?i("span",{staticClass:"kirby-input-before",on:{click:t.focus}},[t._t("before",[t._v(t._s(t.before))])],2):t._e(),i("span",{staticClass:"kirby-input-element",on:{click:function(e){return e.stopPropagation(),t.focus(e)}}},[t._t("default",[i("kirby-"+t.type+"-input",t._g(t._b({ref:"input",tag:"component",attrs:{value:t.value}},"component",t.inputProps,!1),t.listeners))])],2),t.$slots.after||t.after?i("span",{staticClass:"kirby-input-after",on:{click:t.focus}},[t._t("after",[t._v(t._s(t.after))])],2):t._e(),t.$slots.icon||t.icon?i("span",{staticClass:"kirby-input-icon",on:{click:t.focus}},[t._t("icon",[i("kirby-icon",{attrs:{type:t.icon}})])],2):t._e()])},gn=[],vn={inheritAttrs:!1,props:{after:String,before:String,disabled:Boolean,type:String,icon:[String,Boolean],invalid:Boolean,theme:String,validate:Boolean,value:{type:[String,Boolean,Number,Object,Array]}},data:function(){var t=this;return{isInvalid:this.invalid,listeners:Object(l["a"])({},this.$listeners,{invalid:function(e,i){t.isInvalid=e,t.$emit("invalid",e,i)}}),inputProps:Object(l["a"])({},this.$props,this.$attrs)}},methods:{focus:function(t){if(t&&t.target&&"INPUT"===t.target.tagName)t.target.focus();else{var e=this.$el.querySelector("input, select, textarea");e&&e.focus()}}}},yn=vn,kn=(i("avO6"),Object(h["a"])(yn,bn,gn,!1,null,null,null)),$n=kn.exports,_n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-upload"},[i("input",{ref:"input",attrs:{accept:t.options.accept,multiple:t.options.multiple,type:"file",tabindex:"-1"},on:{change:t.select}}),i("kirby-dialog",{ref:"dialog",attrs:{size:"medium"}},[t.errors.length>0?[i("kirby-headline",[t._v(t._s(t._f("t")("Errors","upload.errors")))]),i("ul",{staticClass:"kirby-upload-error-list"},t._l(t.errors,function(e,n){return i("li",{key:"error-"+n},[i("p",{staticClass:"kirby-upload-error-filename"},[t._v(t._s(e.file.name))]),i("p",{staticClass:"kirby-upload-error-message"},[t._v(t._s(e.message))])])}))]:[i("kirby-headline",[t._v(t._s(t._f("t")("Uploadingâ€¦","upload.progress")))]),i("ul",{staticClass:"kirby-upload-list"},t._l(t.files,function(e,n){return i("li",{key:"file-"+n},[i("kirby-progress",{ref:e.name,refInFor:!0}),i("p",{staticClass:"kirby-upload-list-filename"},[t._v(t._s(e.name))]),i("p",[t._v(t._s(t.errors[e.name]))])],1)}))],i("template",{slot:"footer"},[t.errors.length>0?i("footer",{staticClass:"kirby-dialog-footer"},[i("kirby-button-group",[i("kirby-button",{attrs:{icon:"check"},on:{click:function(e){t.$refs.dialog.close()}}},[t._v("\n            "+t._s(t._f("t")("Ok","confirm"))+"\n          ")])],1)],1):t._e()])],2)],1)},wn=[],xn=i("iv4g"),On=(i("91GP"),function(t,e){var i={url:"/",field:"file",method:"POST",accept:"text",attributes:{},complete:function(){},error:function(){},success:function(){},progress:function(){}},n=Object.assign(i,e),s=new FormData;s.append(n.field,t),n.attributes&&Object.keys(n.attributes).forEach(function(t){s.append(t,n.attributes[t])});var r=new XMLHttpRequest,a=function(e){if(e.lengthComputable&&n.progress){var i=Math.max(0,Math.min(100,e.loaded/e.total*100));n.progress(r,t,Math.ceil(i))}};r.addEventListener("loadstart",a),r.addEventListener("progress",a),r.addEventListener("load",function(e){var i=null;try{i=JSON.parse(e.target.response)}catch(t){i={status:"error",message:"The file could not be uploaded"}}i.status&&"error"===i.status?n.error(r,t,i):(n.success(r,t,i),n.progress(r,t,100))}),r.addEventListener("error",function(e){var i=JSON.parse(e.target.response);n.error(r,t,i),n.progress(r,t,100)}),r.open("POST",n.url,!0),r.send(s)}),Cn={props:{url:{type:String},accept:{type:String,default:"*"},attributes:{type:Object},multiple:{type:Boolean,default:!0},max:{type:Number}},data:function(){return{options:this.$props,completed:{},errors:[],files:[],total:0}},methods:{open:function(t){var e=this;this.params(t),setTimeout(function(){e.$refs.input.click()},1)},params:function(t){this.options=Object.assign({},this.$props,t)},select:function(t){this.upload(t.target.files)},drop:function(t,e){this.params(e),this.upload(t)},upload:function(t){var e=this;this.$refs.dialog.open(),this.files=Object(xn["a"])(t),this.completed={},this.errors=[],this.hasErrors=!1,this.options.max&&(this.files=this.files.slice(0,this.options.max)),this.total=this.files.length,this.files.forEach(function(t){On(t,{url:e.options.url,attributes:e.options.attributes,progress:function(t,i,n){e.$refs[i.name][0].set(n)},success:function(t,i){e.complete(i)},error:function(t,i,n){e.errors.push({file:i,message:n.message}),e.complete(i,n.message)}})})},complete:function(t){var e=this;if(this.completed[t.name]=!0,Object.keys(this.completed).length==this.total){if(this.$refs.input.value="",this.errors.length>0)return this.$forceUpdate(),void this.$emit("error");setTimeout(function(){e.$refs.dialog.close(),e.$emit("success")},250)}}}},Sn=Cn,jn=(i("/Kt2"),Object(h["a"])(Sn,_n,wn,!1,null,null,null)),En=jn.exports,Tn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"kirby-checkbox-input"},[i("input",t._g({ref:"input",staticClass:"kirby-checkbox-input-native",attrs:{disabled:t.disabled,id:t.id,type:"checkbox"},domProps:{checked:t.value}},t.listeners)),i("span",{staticClass:"kirby-checkbox-input-icon",attrs:{"aria-hidden":"true"}},[i("svg",{attrs:{width:"12",height:"10",viewBox:"0 0 12 10",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M1 5l3.3 3L11 1","stroke-width":"2",fill:"none","fill-rule":"evenodd"}})])]),i("span",{staticClass:"kirby-checkbox-input-label",domProps:{innerHTML:t._s(t.label)}})])},In=[],qn=i("ta7f"),An={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],label:String,required:Boolean,value:Boolean},data:function(){var t=this;return{listeners:Object(l["a"])({},this.$listeners,{change:function(e){return t.onChange(e.target.checked)}})}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onChange:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.$refs.input.focus()}},validations:function(){return{value:{required:!this.required||qn["required"]}}}},Nn=An,Ln=(i("S5wT"),Object(h["a"])(Nn,Tn,In,!1,null,null,null)),Bn=Ln.exports,Dn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"kirby-checkboxes-input"},t._l(t.options,function(e,n){return i("li",{key:n},[i("kirby-checkbox-input",{attrs:{id:t.id+"-"+n,value:t.selected.indexOf(e.value)>-1,label:e.text},on:{input:function(i){t.onInput(e.value,i)}}})],1)}))},Pn=[],Rn={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:{type:[Number,String],default:function(){return this._uid}},max:Number,min:Number,options:Array,required:Boolean,value:{type:[Array,String],default:function(){return[]}}},data:function(){return{selected:Array.isArray(this.value)?this.value:this.value.split(",")}},watch:{selected:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$el.querySelector("input").focus()},onInput:function(t,e){if(!0===e)this.selected.push(t);else{var i=this.selected.indexOf(t);i>-1&&this.selected.splice(i,1)}this.$emit("input",this.selected)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()}},validations:function(){return{selected:{required:!this.required||qn["required"],min:!this.min||Object(qn["minLength"])(this.min),max:!this.max||Object(qn["maxLength"])(this.max)}}}},zn=Rn,Mn=(i("sIC+"),Object(h["a"])(zn,Dn,Pn,!1,null,null,null)),Hn=Mn.exports,Un=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-date-input"},[i("kirby-select-input",{ref:"years",attrs:{options:t.years,disabled:t.disabled,required:t.required,value:t.year,placeholder:"â€“â€“â€“â€“",empty:"â€“â€“â€“â€“"},on:{input:t.setYear,invalid:t.onInvalid}}),i("span",{staticClass:"kirby-date-input-separator"},[t._v("-")]),i("kirby-select-input",{ref:"months",attrs:{options:t.months,disabled:t.disabled,required:t.required,value:t.month,empty:"â€“â€“",placeholder:"â€“â€“"},on:{input:t.setMonth,invalid:t.onInvalid}}),i("span",{staticClass:"kirby-date-input-separator"},[t._v("-")]),i("kirby-select-input",{ref:"days",attrs:{autofocus:t.autofocus,id:t.id,options:t.days,disabled:t.disabled,required:t.required,value:t.day,placeholder:"â€“â€“",empty:"â€“â€“"},on:{input:t.setDay,invalid:t.onInvalid}})],1)},Vn=[],Fn={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[String,Number],max:String,min:String,required:Boolean,value:String},data:function(){return{date:ht()(this.value),minDate:this.calculate(this.min,"min"),maxDate:this.calculate(this.max,"max")}},computed:{day:function(){return isNaN(this.date.date())?"":this.date.date()},days:function(){return this.options(1,this.date.daysInMonth()||31,"days")},month:function(){return isNaN(this.date.date())?"":this.date.month()+1},months:function(){return this.options(1,12,"months")},year:function(){return isNaN(this.date.year())?"":this.date.year()},years:function(){return this.options(this.minDate.year(),this.maxDate.year())}},watch:{value:function(t){this.date=ht()(t)}},methods:{calculate:function(t,e){var i={min:{run:"subtract",take:"startOf"},max:{run:"add",take:"endOf"}}[e],n=t?ht()(t):null;return n&&!1!==n.isValid()||(n=ht()()[i.run](10,"year")[i.take]("year")),n},focus:function(){this.$refs.day.focus()},onInput:function(){!1!==this.date.isValid()?this.$emit("input",this.date.toISOString()):this.$emit("input","")},onInvalid:function(t,e){this.$emit("invalid",t,e)},options:function(t,e){for(var i=[],n=t;n<=e;n++)i.push({value:n,text:mt(n)});return i},set:function(t,e){if(""===e||null===e||!1===e||-1===e)return this.setInvalid(),void this.onInput();if(!1===this.date.isValid())return this.setInitialDate(t,e),void this.onInput();var i=this.date,n=this.date.date();this.date=this.date.set(t,parseInt(e)),"month"===t&&this.date.date()!==n&&(this.date=i.set("date",1).set("month",e).endOf("month")),this.onInput()},setInvalid:function(){this.date=ht()("invalid")},setInitialDate:function(t,e){var i=ht()();return this.date=ht()().set(t,parseInt(e)),"date"===t&&i.month()!==this.date.month()&&(this.date=i.endOf("month")),this.date},setDay:function(t){this.set("date",t)},setMonth:function(t){this.set("month",t-1)},setYear:function(t){this.set("year",t)}}},Kn=Fn,Wn=(i("T8R9"),Object(h["a"])(Kn,Un,Vn,!1,null,null,null)),Gn=Wn.exports,Jn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-datetime-input"},[i("kirby-date-input",{ref:"dateInput",attrs:{autofocus:t.autofocus,required:t.required,id:t.id,disabled:t.disabled,value:t.dateValue},on:{input:t.setDate}}),i("kirby-time-input",t._b({ref:"timeInput",attrs:{required:t.required,disabled:t.disabled,value:t.timeValue},on:{input:t.setTime}},"kirby-time-input",t.timeOptions,!1))],1)},Yn=[],Zn={inheritAttrs:!1,props:Object(l["a"])({},Gn.props,{time:{type:[Boolean,Object],default:function(){return{}}},value:String}),data:function(){return{dateValue:this.parseDate(this.value),timeValue:this.parseTime(this.value),timeOptions:this.setTimeOptions()}},watch:{value:function(t){this.dateValue=this.parseDate(t),this.timeValue=this.parseTime(t),this.onInvalid()}},mounted:function(){this.onInvalid()},methods:{focus:function(){this.$refs.input.focus()},onInput:function(){if(null!==this.dateValue){var t=null===this.timeValue?this.dateValue:this.dateValue+"T"+this.timeValue;this.$emit("input",t)}else this.$emit("input",null)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},parseDate:function(t){var e=ht()(t);return e.isValid()?e.format("YYYY-MM-DD"):null},parseTime:function(t){var e=ht()(t);return e.isValid()?e.format("HH:mm"):null},setDate:function(t){this.dateValue=this.parseDate(t),this.onInput()},setTime:function(t){this.timeValue=t,this.onInput()},setTimeOptions:function(){return!0===this.time?{}:this.time}},validations:function(){return{value:{required:!this.required||qn["required"]}}}},Qn=Zn,Xn=(i("Ht2a"),Object(h["a"])(Qn,Jn,Yn,!1,null,null,null)),ts=Xn.exports,es=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("input",t._g(t._b({ref:"input",staticClass:"kirby-text-input"},"input",{autocomplete:t.autocomplete,autofocus:t.autofocus,disabled:t.disabled,id:t.id,maxlength:t.maxlength,minlength:t.minlength,name:t.name,pattern:t.pattern,placeholder:t.placeholder,required:t.required,spellcheck:t.spellcheck,type:t.type,value:t.value},!1),t.listeners))},is=[],ns={inheritAttrs:!1,class:"kirby-text-input",props:{autocomplete:{type:[Boolean,String],default:"off"},autofocus:Boolean,disabled:Boolean,id:[Number,String],maxlength:Number,minlength:Number,name:[Number,String],pattern:String,placeholder:String,preselect:Boolean,required:Boolean,spellcheck:{type:[Boolean,String],default:"off"},type:{type:String,default:"text"},value:String},data:function(){var t=this;return{listeners:Object(l["a"])({},this.$listeners,{input:function(e){return t.onInput(e.target.value)}})}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{focus:function(){this.$refs.input.focus()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.$refs.input.select()}},validations:function(){return{value:{required:!this.required||qn["required"],minLength:!this.minlength||Object(qn["minLength"])(this.minlength),maxLength:!this.maxlength||Object(qn["maxLength"])(this.maxlength),email:"email"!==this.type||qn["email"],url:"url"!==this.type||qn["url"]}}}},ss=ns,rs=(i("aNvU"),Object(h["a"])(ss,es,is,!1,null,null,null)),as=rs.exports,os={extends:as,props:Object(l["a"])({},as.props,{autocomplete:{type:String,default:"email"},type:{type:String,default:"email"}})},ls=os,us=Object(h["a"])(ls,A,N,!1,null,null,null),cs=us.exports,ps=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("input",t._g(t._b({ref:"input",staticClass:"kirby-number-input",attrs:{type:"number"}},"input",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,max:t.max,min:t.min,name:t.name,placeholder:t.placeholder,required:t.required,step:t.step,value:t.value},!1),t.listeners))},fs=[],ds={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],max:Number,min:{type:Number,default:0},name:[Number,String],placeholder:String,preselect:Boolean,required:Boolean,step:Number,value:{type:[Number,String],default:null}},data:function(){var t=this;return{listeners:Object(l["a"])({},this.$listeners,{input:function(e){return t.onInput(e.target.value)}})}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{focus:function(){this.$refs.input.focus()},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.$emit("input",Number(t))},select:function(){this.$refs.input.select()}},validations:function(){return{value:{required:!this.required||qn["required"],min:!this.min||Object(qn["minValue"])(this.min),max:!this.max||Object(qn["maxValue"])(this.max)}}}},hs=ds,ms=(i("d791"),Object(h["a"])(hs,ps,fs,!1,null,null,null)),bs=ms.exports,gs={extends:as,props:Object(l["a"])({},as.props,{autocomplete:{type:String,default:"new-password"},type:{type:String,default:"password"}})},vs=gs,ys=Object(h["a"])(vs,L,B,!1,null,null,null),ks=ys.exports,$s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"kirby-radio-input"},t._l(t.options,function(e,n){return i("li",{key:n},[i("input",{staticClass:"kirby-radio-input-native",attrs:{id:t.id+"-"+n,name:t.id,type:"radio"},domProps:{value:e.value,checked:t.value===e.value},on:{change:function(i){t.onInput(e.value)}}}),i("label",{attrs:{for:t.id+"-"+n}},[e.info?[i("span",{staticClass:"kirby-radio-input-text"},[t._v(t._s(e.text))]),i("span",{staticClass:"kirby-radio-input-info"},[t._v(t._s(e.info))])]:[t._v("\n        "+t._s(e.text)+"\n      ")]],2),e.icon?i("kirby-icon",{attrs:{type:e.icon}}):t._e()],1)}))},_s=[],ws={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:{type:[Number,String],default:function(){return this._uid}},options:Array,required:Boolean,value:[String,Number,Boolean]},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$el.querySelector("input").focus()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()}},validations:function(){return{value:{required:!this.required||qn["required"]}}}},xs=ws,Os=(i("zQw3"),Object(h["a"])(xs,$s,_s,!1,null,null,null)),Cs=Os.exports,Ss=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"kirby-range-input"},[i("input",t._g(t._b({ref:"input",staticClass:"kirby-range-input-native",style:"--min: "+t.min+"; --max: "+t.max+"; --value: "+t.position,attrs:{type:"range"}},"input",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,max:t.max,min:t.min,name:t.name,required:t.required,step:t.step,value:t.value},!1),t.listeners)),t.tooltip?i("span",{staticClass:"kirby-range-input-tooltip"},[t.tooltip.before?i("span",{staticClass:"kirby-range-input-tooltip-before"},[t._v(t._s(t.tooltip.before))]):t._e(),i("span",{staticClass:"kirby-range-input-tooltip-text"},[t._v(t._s(t.label))]),t.tooltip.after?i("span",{staticClass:"kirby-range-input-tooltip-after"},[t._v(t._s(t.tooltip.after))]):t._e()]):t._e()])},js=[],Es=(i("a1Th"),{inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[String,Number],max:{type:Number,default:100},min:{type:Number,default:0},name:[String,Number],required:Boolean,step:{type:Number,default:1},tooltip:{type:[Boolean,Object],default:function(){return{before:null,after:null}}},value:[Number,String]},data:function(){var t=this;return{listeners:Object(l["a"])({},this.$listeners,{input:function(e){return t.onInput(e.target.value)}})}},computed:{label:function(){return null!==this.value?this.format(this.value):"â€“"},center:function(){var t=(this.max-this.min)/2+this.min;return Math.ceil(t/this.step)*this.step},position:function(){return null!==this.value?this.value:this.center}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},format:function(t){var e=document.lang?document.lang.replace("_","-"):"en",i=this.step.toString().split("."),n=i.length>1?i[1].length:0;return new Intl.NumberFormat(e,{minimumFractionDigits:n}).format(t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.$emit("input",t)}},validations:function(){return{value:{required:!this.required||qn["required"],min:!this.min||Object(qn["minValue"])(this.min),max:!this.max||Object(qn["maxValue"])(this.max)}}}}),Ts=Es,Is=(i("YNJe"),Object(h["a"])(Ts,Ss,js,!1,null,null,null)),qs=Is.exports,As=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"kirby-select-input",attrs:{"data-disabled":t.disabled,"data-empty":""===t.value}},[i("select",t._g(t._b({ref:"input",staticClass:"kirby-select-input-native",attrs:{disabled:t.disabled}},"select",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,name:t.name,required:t.required,value:t.value},!1),t.listeners),[!1!==t.empty?i("option",{domProps:{value:null}},[t._v(t._s(t.empty))]):t._e(),t._l(t.options,function(e){return i("option",{key:e.value,attrs:{disabled:e.disabled},domProps:{value:e.value}},[t._v("\n      "+t._s(e.text)+"\n    ")])})],2),t._v("\n  "+t._s(t.label)+"\n")])},Ns=[],Ls={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],name:[Number,String],placeholder:String,empty:{type:[String,Boolean],default:"â€”"},options:{type:Array,default:function(){return[]}},required:Boolean,value:[String,Number,Boolean]},data:function(){var t=this;return{listeners:Object(l["a"])({},this.$listeners,{click:function(e){return t.onClick(e)},input:function(e){return t.onInput(e.target.value)}})}},computed:{label:function(){var t=this.options[0]?this.options[0].text:null,e=this.text(this.value)||t;return""===this.value||null===this.value||null===e?this.placeholder||"â€”":e}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onClick:function(t){t.stopPropagation(),this.$emit("click",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.$emit("input",t)},select:function(){this.focus()},text:function(t){var e=null;return this.options.forEach(function(i){i.value==t&&(e=i.text)}),e}},validations:function(){return{value:{required:!this.required||qn["required"]}}}},Bs=Ls,Ds=(i("p+uK"),Object(h["a"])(Bs,As,Ns,!1,null,null,null)),Ps=Ds.exports,Rs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-draggable",{ref:"box",staticClass:"kirby-tags-input",attrs:{options:{disabled:!t.draggable,forceFallback:!0,draggable:".kirby-tag",delay:1}},on:{input:t.onInput},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}},[t._l(t.tags,function(e){return i("kirby-tag",{key:e.value,ref:e.value,refInFor:!0,attrs:{removable:!0,name:"tag"},on:{remove:function(i){t.remove(e)}},nativeOn:{click:function(t){t.stopPropagation()},blur:function(e){t.selectTag(null)},focus:function(i){t.selectTag(e)},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:void t.navigate("prev"):null},function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?"button"in e&&2!==e.button?null:void t.navigate("next"):null}],dblclick:function(i){t.edit(e)}}},[t._v("\n    "+t._s(e.text)+"\n  ")])}),i("span",{staticClass:"kirby-tags-input-element",attrs:{slot:"footer"},slot:"footer"},[i("kirby-autocomplete",{ref:"autocomplete",attrs:{options:t.options,skip:t.skip},on:{select:t.addTag}},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTag,expression:"newTag",modifiers:{trim:!0}}],ref:"input",attrs:{autofocus:t.autofocus,disabled:t.disabled||t.max&&t.tags.length>=t.max,id:t.id,name:t.name,autocomplete:"off",type:"text"},domProps:{value:t.newTag},on:{input:[function(e){e.target.composing||(t.newTag=e.target.value.trim())},function(e){t.type(e.target.value)}],blur:[t.blurInput,function(e){t.$forceUpdate()}],keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.leaveInput(e):null},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.enter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.tab(e):null},function(e){return"button"in e||!t._k(e.keyCode,"backspace",void 0,e.key,void 0)?t.leaveInput(e):null}]}})])],1)],2)},zs=[],Ms=(i("INYr"),{inheritAttrs:!1,props:{autofocus:Boolean,accept:{type:String,default:"all"},disabled:Boolean,icon:{type:String,default:"tag"},id:[Number,String],max:Number,min:Number,name:[Number,String],separator:{type:String,default:","},options:{type:Array,default:function(){return[]}},required:Boolean,value:{type:Array,default:function(){return[]}}},data:function(){return{tags:this.prepareTags(this.value),selected:null,newTag:null,tagOptions:this.options.map(function(t){return t.icon="tag",t})}},computed:{draggable:function(){return this.tags.length>1},hasChanged:function(){return!0},skip:function(){return this.tags.map(function(t){return t.text})}},watch:{value:function(t){this.tags=this.prepareTags(t),this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{addString:function(t){t&&(t=t.trim(),0!==t.length&&this.addTag({text:t,value:t}))},addTag:function(t){this.addTagToIndex(t),this.$refs.autocomplete.close(),this.$refs.input.focus()},addTagToIndex:function(t){-1===this.index(t)&&(!this.max||this.tags.length<this.max)&&(this.tags.push(t),this.onInput(this.tags)),this.newTag=null},blurInput:function(){this.$refs.input.value.length&&(this.addTagToIndex(this.$refs.input.value),this.$refs.autocomplete.close())},edit:function(t){this.newTag=t.text,this.$refs.input.select(),this.remove(t)},enter:function(t){if(!this.newTag||0===this.newTag.length)return!0;t.preventDefault(),this.addString(this.newTag)},focus:function(){this.$refs.input.focus()},get:function(t){var e=null,i=null;switch(t){case"prev":case"next":if(!this.selected)return;i=this.index(this.selected),e="prev"===t?i-1:i+1;break;case"first":e=0;break;case"last":e=this.tags.length-1;break;default:e=t;break}var n=this.tags[e];if(n){var s=this.$refs[n.value];if(s&&s[0])return{ref:s[0],tag:n,index:e}}return!1},index:function(t){return this.tags.findIndex(function(e){return e.value===t.value})},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},leaveInput:function(t){0===t.target.selectionStart&&t.target.selectionStart===t.target.selectionEnd&&(this.navigate("last"),this.$refs.autocomplete.close(),t.preventDefault(),t.target.blur())},navigate:function(t){var e=this.get(t);e?(e.ref.focus(),this.selected=e.tag):"next"===t&&(this.$refs.input.focus(),this.selected=null)},prepareTags:function(t){return!1===Array.isArray(t)?[]:t.map(function(t){return"string"===typeof t?{text:t,value:t}:t})},remove:function(t){var e=this.get("prev"),i=this.get("next");this.tags.splice(this.index(t),1),this.onInput(this.tags),e?e.ref.focus():i?i.ref.focus():this.$refs.input.focus()},select:function(){this.focus()},selectTag:function(t){this.selected=t},tab:function(t){this.newTag&&this.newTag.length>0&&(t.preventDefault(),this.addString(this.newTag))},type:function(t){this.newTag=t,this.$refs.autocomplete.search(t)}},validations:function(){return{tags:{required:!this.required||qn["required"],minLength:!this.min||Object(qn["minLength"])(this.min),maxLength:!this.max||Object(qn["maxLength"])(this.max)}}}}),Hs=Ms,Us=(i("mf0V"),Object(h["a"])(Hs,Rs,zs,!1,null,null,null)),Vs=Us.exports,Fs={extends:as,props:Object(l["a"])({},as.props,{autocomplete:{type:String,default:"tel"},type:{type:String,default:"tel"}})},Ks=Fs,Ws=Object(h["a"])(Ks,D,P,!1,null,null,null),Gs=Ws.exports,Js=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-textarea-input",attrs:{"data-theme":t.theme,"data-over":t.over}},[i("textarea",t._b({ref:"input",staticClass:"kirby-textarea-input-native",attrs:{"data-size":t.size},on:{blur:t.onBlur,click:t.onClick,focus:t.onFocus,input:t.onInput,select:t.onSelect,keydown:[function(e){return("button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter"))&&e.metaKey?t.onSubmit(e):null},function(e){return e.metaKey?t.onShortcut(e):null}],dragover:t.onOver,dragleave:t.onOut,drop:t.onDrop}},"textarea",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,maxlength:t.maxlength,minlength:t.minlength,name:t.name,placeholder:t.placeholder,required:t.required,spellcheck:t.spellcheck,value:t.value},!1)),!t.disabled&&!1!==t.buttons&&t.toolbar?i("kirby-toolbar",{ref:"toolbar",style:{top:t.caret.top+"px",left:t.caret.left+"px"},attrs:{buttons:t.buttons},on:{blur:function(e){t.toolbar=!1},cancel:t.cancel,command:t.onCommand}}):t._e(),i("kirby-email-dialog",{ref:"emailDialog",on:{cancel:t.cancel,submit:function(e){t.insert(e)}}}),i("kirby-link-dialog",{ref:"linkDialog",on:{cancel:t.cancel,submit:function(e){t.insert(e)}}}),i("kirby-upload",{ref:"upload"})],1)},Ys=[],Zs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.buttons?i("nav",{staticClass:"kirby-toolbar",on:{click:function(t){t.stopPropagation()}}},[t._l(t.layout,function(e,n){return[e.divider?[i("span",{key:n,staticClass:"kirby-toolbar-divider"})]:e.dropdown?[i("kirby-dropdown",{key:n},[i("kirby-button",{key:n,staticClass:"kirby-toolbar-button",attrs:{icon:e.icon,tabindex:"-1"},on:{click:function(e){t.$refs[n+"-dropdown"][0].toggle()}}}),i("kirby-dropdown-content",{ref:n+"-dropdown",refInFor:!0},t._l(e.dropdown,function(e,n){return i("kirby-dropdown-item",{key:n,attrs:{icon:e.icon},on:{click:function(i){t.command(e.command,e.args)}}},[t._v("\n            "+t._s(e.label)+"\n          ")])}))],1)]:[i("kirby-button",{key:n,staticClass:"kirby-toolbar-button",attrs:{icon:e.icon,tabindex:"-1"},on:{click:function(i){t.command(e.command,e.args)}}})]]})],2):t._e()},Qs=[],Xs=function(t){this.command("insert",function(e,i){var n=[];return i.split("\n").forEach(function(e,i){var s="ol"===t?i+1+".":"-";n.push(s+" "+e)}),n.join("\n")})},tr={commands:{headlines:{label:"Headline",icon:"title",dropdown:{h1:{label:"Headline 1",icon:"title",command:"prepend",args:"#"},h2:{label:"Headline 2",icon:"title",command:"prepend",args:"##"},h3:{label:"Headline 3",icon:"title",command:"prepend",args:"###"}}},bold:{label:"Bold",icon:"bold",command:"wrap",args:"**",shortcut:"b"},italic:{label:"Italic",icon:"italic",command:"wrap",args:"*",shortcut:"i"},link:{label:"Link",icon:"url",shortcut:"l",command:"dialog",args:"link"},email:{label:"Email",icon:"email",shortcut:"e",command:"dialog",args:"email"},code:{label:"Code",icon:"code",command:"wrap",args:"`"},ul:{label:"Bullet List",icon:"list-bullet",command:function(){return Xs.apply(this,["ul"])}},ol:{label:"Ordered List",icon:"list-numbers",command:function(){return Xs.apply(this,["ol"])}}},layout:["headlines","bold","italic","|","link","email","code","|","ul","ol"],props:{buttons:{type:[Boolean,Array],default:!0}},data:function(){var t=this,e={},i={},n=[];return!1===this.buttons?e:(Array.isArray(this.buttons)&&(n=this.buttons),!0!==Array.isArray(this.buttons)&&(n=this.$options.layout),n.forEach(function(n,s){if("|"===n)e["divider-"+s]={divider:!0};else if(t.$options.commands[n]){var r=t.$options.commands[n];e[n]=r,r.shortcut&&(i[r.shortcut]=n)}}),{layout:e,shortcuts:i})},mounted:function(){this.$events.$on("click",this.blur),this.$events.$on("keydown.esc",this.cancel)},destroyed:function(){this.$events.$off("click",this.blur),this.$events.$off("keydown.esc",this.cancel)},methods:{blur:function(){this.$emit("blur")},cancel:function(){this.$emit("cancel")},command:function(t,e){"function"===typeof t?t.apply(this):this.$emit("command",t,e)},shortcut:function(t,e){if(this.shortcuts[t]){var i=this.layout[this.shortcuts[t]];if(!i)return!1;e.preventDefault(),this.command(i.command,i.args)}}}},er=tr,ir=(i("R2uX"),Object(h["a"])(er,Zs,Qs,!1,null,null,null)),nr=ir.exports,sr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:"Insert"},on:{close:t.cancel,submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},rr=[],ar={data:function(){return{value:{email:null,text:null},fields:{email:{label:"Email",type:"email"},text:{label:"Email Link Text",type:"text"}}}},methods:{open:function(t,e){this.value.text=e,this.$refs.dialog.open()},cancel:function(){this.$emit("cancel")},submit:function(){var t="(email: "+this.value.email+")";this.value.text.length>0&&(t="(email: "+this.value.email+" text: "+this.value.text+")"),this.value={email:null,text:null},this.$emit("submit",t),this.$refs.dialog.close()}}},or=ar,lr=Object(h["a"])(or,sr,rr,!1,null,null,null),ur=lr.exports,cr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:"Insert"},on:{close:t.cancel,submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},pr=[],fr={data:function(){return{value:{url:null,text:null},fields:{url:{label:"Link",type:"text",icon:"url"},text:{label:"Link Text",type:"text"}}}},methods:{open:function(t,e){this.value.text=e,this.$refs.dialog.open()},cancel:function(){this.$emit("cancel")},submit:function(){var t="(link: "+this.value.url+")";this.value.text.length>0&&(t="(link: "+this.value.url+" text: "+this.value.text+")"),this.value={url:null,text:null},this.$emit("submit",t),this.$refs.dialog.close()}}},dr=fr,hr=Object(h["a"])(dr,cr,pr,!1,null,null,null),mr=hr.exports,br=i("GemG"),gr=i.n(br),vr=i("oOwn"),yr=i.n(vr),kr={components:{"kirby-toolbar":nr,"kirby-email-dialog":ur,"kirby-link-dialog":mr},inheritAttrs:!1,props:{autofocus:Boolean,buttons:{type:[Boolean,Array],default:!0},disabled:Boolean,id:[Number,String],name:[Number,String],maxlength:Number,minlength:Number,placeholder:String,preselect:Boolean,required:Boolean,size:String,spellcheck:{type:[Boolean,String],default:"off"},theme:String,value:String},data:function(){return{caret:{top:0,left:0},over:!1,toolbar:!1}},watch:{value:function(){var t=this;this.onInvalid(),this.$nextTick(function(){t.resize()})}},mounted:function(){var t=this;this.$nextTick(function(){gr()(t.$refs.input)}),this.onInvalid(),this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{cancel:function(){this.$refs.input.focus(),this.toolbar=!1},dialog:function(t){if(!this.$refs[t+"Dialog"])throw"Invalid toolbar dialog";this.$refs[t+"Dialog"].open(this.$refs.input,this.selection())},focus:function(){this.$refs.input.focus()},getCaret:function(){return yr()(this.$refs.input,this.$refs.input.selectionEnd)},insert:function(t){var e=this.$refs.input,i=e.value;if(e.focus(),document.execCommand("insertText",!1,t),e.value===i){var n=e.value.slice(0,e.selectionStart)+t+e.value.slice(e.selectionEnd);e.value=n,this.$emit("input",n)}this.resize()},prepend:function(t){this.insert(t+" "+this.selection())},resize:function(){gr.a.update(this.$refs.input)},onBlur:function(t){t.relatedTarget&&!1===this.$el.contains(t.relatedTarget)&&(this.toolbar=!1)},onClick:function(){this.$refs.input.selectionStart===this.$refs.input.selectionEnd&&(this.toolbar=!1)},onCommand:function(t,e){"function"===typeof this[t]?("function"===typeof e?this[t](e(this.$refs.input,this.selection())):this[t](e),this.toolbar=!1):window.console.warn(t+" is not a valid command")},onDrop:function(){var t=this.$store.state.drag;t&&"text"===t.type&&(this.focus(),this.insert(t.data))},onFocus:function(t){this.$emit("focus",t)},onInput:function(t){this.toolbar=!1,this.$emit("input",t.target.value)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onOut:function(t){this.$refs.input.blur(),this.over=!1},onOver:function(t){var e=this.$store.state.drag;e&&"text"===e.type&&(t.dataTransfer.dropEffect="copy",this.focus(),this.over=!0)},onSelect:function(){var t=this;this.toolbar=!0,!1!==this.buttons&&this.$nextTick(function(){var e=yr()(t.$refs.input,t.$refs.input.selectionStart),i=yr()(t.$refs.input,t.$refs.input.selectionEnd),n=t.$refs.toolbar.$el.offsetWidth,s=t.$el.offsetWidth,r=s-n+16,a=i.left-Math.round(n/2);a<0&&(a=-16),a>r&&(a=r),t.caret={top:e.top,left:a}})},onShortcut:function(t){!1!==this.buttons&&"Meta"!==t.key&&this.$refs.toolbar&&this.$refs.toolbar.shortcut(t.key,t)},onSubmit:function(t){return this.$emit("submit",t)},select:function(){this.$refs.select()},selection:function(){var t=this.$refs.input,e=t.selectionStart,i=t.selectionEnd;return t.value.substring(e,i)},wrap:function(t){this.insert(t+this.selection()+t)}},validations:function(){return{value:{required:!this.required||qn["required"],minLength:!this.minlength||Object(qn["minLength"])(this.minlength),maxLength:!this.maxlength||Object(qn["maxLength"])(this.maxlength)}}}},$r=kr,_r=(i("Xrkt"),Object(h["a"])($r,Js,Ys,!1,null,null,null)),wr=_r.exports,xr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-time-input"},[i("kirby-select-input",{ref:"hour",attrs:{id:t.id,autofocus:t.autofocus,options:t.hours,required:t.required,disabled:t.disabled,placeholder:"â€“â€“",empty:"â€“â€“"},on:{input:t.onInput,invalid:t.onInvalid},model:{value:t.hour,callback:function(e){t.hour=e},expression:"hour"}}),i("span",{staticClass:"kirby-time-input-separator"},[t._v(":")]),i("kirby-select-input",{ref:"minute",attrs:{options:t.minutes,required:t.required,disabled:t.disabled,placeholder:"â€“â€“",empty:"â€“â€“"},on:{input:t.onInput,invalid:t.onInvalid},model:{value:t.minute,callback:function(e){t.minute=e},expression:"minute"}}),12===t.notation?i("kirby-select-input",{ref:"meridiem",staticClass:"kirby-time-input-meridiem",attrs:{empty:!1,options:[{value:"AM",text:"AM"},{value:"PM",text:"PM"}],required:t.required,disabled:t.disabled},on:{input:t.onInput},model:{value:t.meridiem,callback:function(e){t.meridiem=e},expression:"meridiem"}}):t._e()],1)},Or=[],Cr={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[String,Number],notation:{type:Number,default:24},required:Boolean,step:{type:Number,default:5},value:{type:String}},data:function(){return this.toObject(this.value)},computed:{hours:function(){return this.options(24===this.notation?0:1,24===this.notation?23:12)},minutes:function(){return this.options(0,59,this.step)}},watch:{value:function(t){this.select(this.toObject(t))}},methods:{focus:function(){this.$refs.hour.focus()},onInput:function(t){if(""===t)return this.reset(),void this.$emit("input",null);var e=mt(this.hour||0),i=mt(this.minute||0),n=this.meridiem||"AM",s=24===this.notation?"".concat(e,":").concat(i):"".concat(e,":").concat(i," ").concat(n),r=ht()(new Date("2000-01-01 "+s));!1!==r.isValid()?this.$emit("input",r.format("HH:mm")):this.$emit("input",null)},onInvalid:function(t,e){this.$emit("invalid",t,e)},options:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],s=t;s<=e;s+=i)n.push({value:s,text:mt(s)});return n},reset:function(){this.hour=null,this.minute=null,this.meridiem=null},round:function(t){return t.minute=Math.floor(t.minute/this.step)*this.step,t},select:function(t){this.hour=t.hour,this.minute=t.minute,this.meridiem=t.meridiem},toObject:function(t){var e=ht()(new Date("2000-01-01 "+t));if(!1===e.isValid())return{hour:null,minute:null,meridiem:null};var i={hour:e.format(24===this.notation?"H":"h"),minute:e.format("m"),meridiem:e.format("A")};return this.round(i)}}},Sr=Cr,jr=(i("ZQwn"),Object(h["a"])(Sr,xr,Or,!1,null,null,null)),Er=jr.exports,Tr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"kirby-toggle-input"},[i("input",t._g({ref:"input",staticClass:"kirby-toggle-input-native",attrs:{disabled:t.disabled,id:t.id,type:"checkbox"},domProps:{checked:t.value}},t.listeners)),i("span",{staticClass:"kirby-toggle-input-label",domProps:{innerHTML:t._s(t.label)}})])},Ir=[],qr={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],text:{type:[Array,String],default:function(){return["off","on"]}},required:Boolean,value:Boolean},data:function(){var t=this;return{listeners:Object(l["a"])({},this.$listeners,{change:function(e){return t.onInput(e.target.checked)},keydown:this.onEnter})}},computed:{label:function(){return Array.isArray(this.text)?this.value?this.text[1]:this.text[0]:this.text}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onEnter:function(t){"Enter"===t.key&&this.$refs.input.click()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.$refs.input.focus()}},validations:function(){return{value:{required:!this.required||qn["required"]}}}},Ar=qr,Nr=(i("EhXH"),Object(h["a"])(Ar,Tr,Ir,!1,null,null,null)),Lr=Nr.exports,Br={extends:as,props:Object(l["a"])({},as.props,{autocomplete:{type:String,default:"url"},type:{type:String,default:"url"}})},Dr=Br,Pr=Object(h["a"])(Dr,R,z,!1,null,null,null),Rr=Pr.exports,zr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-checkboxes-field",attrs:{counter:t.counterOptions}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},Mr=[],Hr={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Hn.props,{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},methods:{focus:function(){this.$refs.input.focus()}}},Ur=Hr,Vr=Object(h["a"])(Ur,zr,Mr,!1,null,null,null),Fr=Vr.exports,Kr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-date-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,type:t.inputType,value:t.date,theme:"field"}},"kirby-input",t.$props,!1),t.listeners),[i("template",{slot:"icon"},[i("kirby-dropdown",[i("kirby-button",{staticClass:"kirby-input-icon-button",attrs:{icon:t.icon,tabindex:"-1"},on:{click:function(e){t.$refs.dropdown.toggle()}}}),i("kirby-dropdown-content",{ref:"dropdown",attrs:{align:"right"}},[i("kirby-calendar",{attrs:{value:t.date},on:{input:function(e){t.onInput(e),t.$refs.dropdown.close()}}})],1)],1)],1)],2)],1)},Wr=[],Gr={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,ts.props,{icon:{type:String,default:"calendar"}}),data:function(){return{date:this.value,listeners:Object(l["a"])({},this.$listeners,{input:this.onInput})}},computed:{inputType:function(){return!1===this.time?"date":"datetime"}},watch:{value:function(t){this.date=t}},methods:{focus:function(){this.$refs.input.focus()},onInput:function(t){this.date=t,this.$emit("input",t)}}},Jr=Gr,Yr=Object(h["a"])(Jr,Kr,Wr,!1,null,null,null),Zr=Yr.exports,Qr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-email-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners),[t.link?i("kirby-button",{staticClass:"kirby-input-icon-button",attrs:{slot:"icon",icon:t.icon,link:"mailto:"+t.value,tabindex:"-1",target:"_blank"},slot:"icon"}):t._e()],1)],1)},Xr=[],ta={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,cs.props,{link:{type:Boolean,default:!0},icon:{type:String,default:"email"}}),methods:{focus:function(){this.$refs.input.focus()}}},ea=ta,ia=Object(h["a"])(ea,Qr,Xr,!1,null,null,null),na=ia.exports,sa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-headline",{staticClass:"kirby-headline-field",attrs:{"data-numbered":t.numbered}},[t._v("\n  "+t._s(t.label)+"\n")])},ra=[],aa={props:{label:String,numbered:Boolean}},oa=aa,la=(i("1rVD"),Object(h["a"])(oa,sa,ra,!1,null,null,null)),ua=la.exports,ca=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-field kirby-info-field"},[i("kirby-headline",[t._v(t._s(t.label))]),i("kirby-box",{attrs:{theme:t.theme}},[i("kirby-text",{domProps:{innerHTML:t._s(t.text)}})],1)],1)},pa=[],fa={props:{label:String,text:String,theme:{type:String,default:"info"}}},da=fa,ha=(i("D0A6"),Object(h["a"])(da,ca,pa,!1,null,null,null)),ma=ha.exports,ba=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("hr",{staticClass:"kirby-line-field"})},ga=[],va=(i("uBjD"),{}),ya=Object(h["a"])(va,ba,ga,!1,null,null,null),ka=ya.exports,$a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-number-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},_a=[],wa={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,bs.props),methods:{focus:function(){this.$refs.input.focus()}}},xa=wa,Oa=Object(h["a"])(xa,$a,_a,!1,null,null,null),Ca=Oa.exports,Sa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-password-field",attrs:{input:t._uid,counter:t.counterOptions}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},ja=[],Ea={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,ks.props,{counter:{type:Boolean,default:!0},minlength:{type:Number,default:8},icon:{type:String,default:"key"}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?String(this.value).length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},Ta=Ea,Ia=Object(h["a"])(Ta,Sa,ja,!1,null,null,null),qa=Ia.exports,Aa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-radio-field"},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},Na=[],La={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Cs.props),methods:{focus:function(){this.$refs.input.focus()}}},Ba=La,Da=Object(h["a"])(Ba,Aa,Na,!1,null,null,null),Pa=Da.exports,Ra=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-range-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},za=[],Ma={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,qs.props),methods:{focus:function(){this.$refs.input.focus()}}},Ha=Ma,Ua=Object(h["a"])(Ha,Ra,za,!1,null,null,null),Va=Ua.exports,Fa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-select-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},Ka=[],Wa={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Ps.props,{icon:{type:String,default:"angle-down"}}),methods:{focus:function(){this.$refs.input.focus()}}},Ga=Wa,Ja=Object(h["a"])(Ga,Fa,Ka,!1,null,null,null),Ya=Ja.exports,Za=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-structure-field",nativeOn:{click:function(t){t.stopPropagation()}}},"kirby-field",t.$props,!1),[i("template",{slot:"options"},[t.disabled?t._e():i("kirby-button",{ref:"add",attrs:{id:t._uid,icon:"add"},on:{click:t.add}},[t._v("\n      "+t._s(t._f("t")("Add","add"))+"\n    ")])],1),[0===t.items.length?i("kirby-box",{attrs:{theme:"button"}},[i("kirby-button",{attrs:{disabled:t.disabled,icon:"add"},on:{click:t.add}},[t._v(t._s(t._f("t")("Click to add the first item â€¦","structure.add.first")))])],1):i("kirby-draggable",{staticClass:"kirby-structure",attrs:{"data-disabled":t.disabled,options:{disabled:t.disabled,forceFallback:!0,handle:".kirby-structure-item-handle",fallbackClass:"sortable-fallback"},element:"ul"},on:{input:t.onInput,choose:t.close,end:t.onInput},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,function(e,n){return i("li",{key:n,staticClass:"kirby-structure-item",attrs:{"data-active":t.isActive(n)},on:{click:function(t){t.stopPropagation()}}},[t.isActive(n)?t._e():i("div",{staticClass:"kirby-structure-item-wrapper"},[i("kirby-button",{staticClass:"kirby-structure-item-handle",attrs:{icon:"sort"}}),i("div",{staticClass:"kirby-structure-item-content"},t._l(t.fields,function(s,r){return"hidden"!==s.type?i("p",{key:r,staticClass:"kirby-structure-item-text",attrs:{title:s.label},on:{click:function(e){t.jump(n,r)}}},[e[r]?["user"===s.type?[t._v("\n                  "+t._s(e[r].email)+"\n                ")]:[t._v("\n                  "+t._s(t.displayText(e[r]))+"\n                ")]]:t._e()],2):t._e()})),t.disabled?t._e():i("nav",{staticClass:"kirby-structure-item-options"},[i("kirby-button",{staticClass:"kirby-structure-option",attrs:{icon:"trash"},on:{click:function(e){t.confirmRemove(n)}}})],1)],1),t.disabled?t._e():i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive(n),expression:"isActive(index)"}],staticClass:"kirby-structure-form"},[i("kirby-fieldset",{ref:"form",refInFor:!0,staticClass:"kirby-structure-fieldset",attrs:{fields:t.fields},on:{input:t.onInput,submit:function(e){t.close(n)}},model:{value:t.items[n],callback:function(e){t.$set(t.items,n,e)},expression:"items[index]"}})],1)])})),t.disabled?t._e():i("kirby-dialog",{ref:"remove",attrs:{button:"Delete",theme:"negative"},on:{submit:t.remove}},[i("kirby-text",[t._v(t._s(t._f("t")("Do you really want to delete this item?","structure.delete.confirm")))])],1)],i("kirby-dialog",{ref:"escapeDialog",attrs:{button:t.$t("discard"),theme:"negative",icon:"trash"},on:{submit:t.discard}},[t._v("\n    "+t._s(t._f("t")("Do you really want to discard this item?","structure.discard.confirm"))+"\n  ")])],2)},Qa=[],Xa={inheritAttrs:!1,props:Object(l["a"])({},un.props,{fields:Object,value:{type:Array,default:function(){return[]}}}),data:function(){return{items:this.value,active:null,trash:null}},watch:{value:function(t){this.items=t}},mounted:function(){this.$events.$on("keydown.esc",this.escape),this.$events.$on("keydown.cmd.s",this.close),this.$events.$on("click",this.escape),this.$events.$on("field.structure.close",this.escape)},destroyed:function(){this.$events.$off("keydown.esc",this.escape),this.$events.$off("keydown.cmd.s",this.close),this.$events.$off("click",this.escape),this.$events.$off("field.structure.close",this.escape)},methods:{add:function(){var t=this;if(null!==this.active)return this.escape(),!1;var e={};Object.keys(this.fields).forEach(function(i){var n=t.fields[i];n.default&&(e[i]=n.default)}),this.items.push(e),this.onInput(),this.$nextTick(function(){t.open(t.items.length-1)})},close:function(){this.active=null},confirmRemove:function(t){this.close(),this.trash=t,this.$refs.remove.open()},escape:function(){null!==this.active&&this.items[this.active]&&0===Object.keys(this.items[this.active]).length?this.$refs.escapeDialog.open():this.close()},discard:function(){this.trash=this.active,this.active=null,this.remove(),this.$refs.escapeDialog.close()},focus:function(){this.$refs.add.focus()},isActive:function(t){return this.active===t},jump:function(t,e){this.$events.$emit("field.structure.close"),this.open(t,e)},displayText:function(t){return"object"===Object(et["a"])(t)&&null!==t?"â€¦":t},onItemInput:function(t,e){this.items[t]=e,this.$emit("input",this.items)},onInput:function(){this.$emit("input",this.items)},open:function(t,e){var i=this;this.active=t,this.$nextTick(function(){i.$refs.form[t]&&i.$refs.form[t].focus(e)})},remove:function(){if(null===this.trash)return!1;this.items.splice(this.trash,1),this.trash=null,this.$refs.remove.close(),this.onInput()},toggle:function(t){this.active===t?this.close():this.open(t)}}},to=Xa,eo=(i("EDLj"),Object(h["a"])(to,Za,Qa,!1,null,null,null)),io=eo.exports,no=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-tags-field",attrs:{input:t._uid,counter:t.counterOptions}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},so=[],ro={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Vs.props,{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},methods:{focus:function(){this.$refs.input.focus()}}},ao=ro,oo=(i("TrPo"),Object(h["a"])(ao,no,so,!1,null,null,null)),lo=oo.exports,uo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-tel-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},co=[],po={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Gs.props,{icon:{type:String,default:"phone"}}),methods:{focus:function(){this.$refs.input.focus()}}},fo=po,ho=Object(h["a"])(fo,uo,co,!1,null,null,null),mo=ho.exports,bo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-text-field",attrs:{input:t._uid,counter:t.counterOptions}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},go=[],vo={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,as.props,{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?String(this.value).length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},yo=vo,ko=Object(h["a"])(yo,bo,go,!1,null,null,null),$o=ko.exports,_o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-textarea-field",attrs:{input:t._uid,counter:t.counterOptions}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,type:"textarea",theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},wo=[],xo={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,wr.props,{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?this.value.length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},Oo=xo,Co=Object(h["a"])(Oo,_o,wo,!1,null,null,null),So=Co.exports,jo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-time-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},Eo=[],To={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Er.props,{icon:{type:String,default:"clock"}}),methods:{focus:function(){this.$refs.input.focus()}}},Io=To,qo=Object(h["a"])(Io,jo,Eo,!1,null,null,null),Ao=qo.exports,No=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-toggle-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners))],1)},Lo=[],Bo={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Lr.props),methods:{focus:function(){this.$refs.input.focus()}}},Do=Bo,Po=Object(h["a"])(Do,No,Lo,!1,null,null,null),Ro=Po.exports,zo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-url-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[i("kirby-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"kirby-input",t.$props,!1),t.$listeners),[t.link?i("kirby-button",{staticClass:"kirby-input-icon-button",attrs:{slot:"icon",icon:t.icon,link:t.value,tabindex:"-1",target:"_blank"},slot:"icon"}):t._e()],1)],1)},Mo=[],Ho={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,Rr.props,{link:{type:Boolean,default:!0},icon:{type:String,default:"url"}}),methods:{focus:function(){this.$refs.input.focus()}}},Uo=Ho,Vo=Object(h["a"])(Uo,zo,Mo,!1,null,null,null),Fo=Vo.exports,Ko=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-field",t._b({staticClass:"kirby-user-field",attrs:{input:t._uid}},"kirby-field",t.$props,!1),[t.user?i("kirby-list-item",{attrs:{image:{url:t.user.image,cover:!0},link:t.user.link,text:t.user.name,icon:{type:"user",back:"black"},element:"div"}},[i("kirby-button",{attrs:{slot:"options",icon:"cancel"},on:{click:t.removeUser},slot:"options"})],1):i("kirby-autocomplete",{ref:"autocomplete",attrs:{options:t.users},on:{close:t.reset,select:function(e){t.setUser(e)}}},[i("kirby-input",{ref:"input",attrs:{id:t._uid,disabled:t.disabled,type:"text",theme:"field",placeholder:"Type to search for users â€¦",icon:"user"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){t.$refs.autocomplete.search(e)}},model:{value:t.typed,callback:function(e){t.typed=e},expression:"typed"}})],1)],1)},Wo=[],Go={inheritAttrs:!1,props:Object(l["a"])({},un.props,$n.props,{users:Array,icon:{type:String,default:"user"},value:Object}),data:function(){return{typed:null,user:this.value}},watch:{value:function(){this.user=this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},removeUser:function(){this.user=null,this.$emit("input",null)},reset:function(){this.typed="",this.$refs.input.focus()},setUser:function(t){this.user=t,this.$emit("input",t)}}},Jo=Go,Yo=(i("hKzj"),Object(h["a"])(Jo,Ko,Wo,!1,null,null,null)),Zo=Yo.exports;n["a"].use(j.a),n["a"].use(M);var Qo={install:function(t){t.filter("t",function(t){return t}),t.directive("tab",{inserted:function(t){t.addEventListener("keyup",function(e){9===e.keyCode&&(t.dataset.tabbed=!0)}),t.addEventListener("blur",function(){delete t.dataset.tabbed})}}),t.component("kirby-bar",K),t.component("kirby-box",Q),t.component("kirby-button",rt),t.component("kirby-button-group",ct),t.component("kirby-calendar",yt),t.component("kirby-card",Ct),t.component("kirby-cards",qt),t.component("kirby-collection",Pt),t.component("kirby-column",Vt),t.component("kirby-counter",Yt),t.component("kirby-dialog",ie),t.component("kirby-draggable",T.a),t.component("kirby-dropdown",oe),t.component("kirby-dropdown-content",he),t.component("kirby-dropdown-item",ke),t.component("kirby-grid",Ce),t.component("kirby-header",qe),t.component("kirby-headline",Pe),t.component("kirby-icon",Ve),t.component("kirby-image",Ye),t.component("kirby-link",ii),t.component("kirby-list",li),t.component("kirby-list-item",hi),t.component("kirby-pagination",ki),t.component("kirby-progress",Ci),t.component("kirby-tag",qi),t.component("kirby-text",Pi),t.component("kirby-view",Vi),t.component("kirby-autocomplete",Yi),t.component("kirby-form",nn),t.component("kirby-field",un),t.component("kirby-fieldset",mn),t.component("kirby-input",$n),t.component("kirby-upload",En),t.component("kirby-checkbox-input",Bn),t.component("kirby-checkboxes-input",Hn),t.component("kirby-date-input",Gn),t.component("kirby-datetime-input",ts),t.component("kirby-email-input",cs),t.component("kirby-number-input",bs),t.component("kirby-password-input",ks),t.component("kirby-radio-input",Cs),t.component("kirby-range-input",qs),t.component("kirby-select-input",Ps),t.component("kirby-tags-input",Vs),t.component("kirby-tel-input",Gs),t.component("kirby-text-input",as),t.component("kirby-textarea-input",wr),t.component("kirby-time-input",Er),t.component("kirby-toggle-input",Lr),t.component("kirby-url-input",Rr),t.component("kirby-checkboxes-field",Fr),t.component("kirby-date-field",Zr),t.component("kirby-email-field",na),t.component("kirby-headline-field",ua),t.component("kirby-info-field",ma),t.component("kirby-line-field",ka),t.component("kirby-number-field",Ca),t.component("kirby-password-field",qa),t.component("kirby-radio-field",Pa),t.component("kirby-range-field",Va),t.component("kirby-select-field",Ya),t.component("kirby-structure-field",io),t.component("kirby-tags-field",lo),t.component("kirby-text-field",$o),t.component("kirby-textarea-field",So),t.component("kirby-tel-field",mo),t.component("kirby-time-field",Ao),t.component("kirby-toggle-field",Ro),t.component("kirby-url-field",Fo),t.component("kirby-user-field",Zo)}};n["a"].use(Qo);var Xo,tl,el,il,nl={extends:ie,created:function(){this.$events.$on("keydown.esc",this.close,!1)},destroyed:function(){this.$events.$off("keydown.esc",this.close,!1)}},sl=nl,rl=Object(h["a"])(sl,Xo,tl,!1,null,null,null),al=rl.exports,ol=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.error?i("kirby-dialog",{ref:"dialog",staticClass:"kirby-error-dialog",attrs:{visible:!0},on:{close:t.exit,open:t.enter}},[i("kirby-text",[t._v(t._s(t.error.message))]),t.error.details&&Object.keys(t.error.details).length?i("dl",{staticClass:"kirby-error-details"},[t._l(t.error.details,function(e,n){return[i("dt",{key:"detail-label-"+n},[t._v(t._s(e.label))]),i("dd",{key:"detail-message-"+n},["object"===typeof e.message?[i("ul",t._l(e.message,function(e,n){return i("li",{key:n},[t._v("\n              "+t._s(e)+"\n            ")])}))]:[t._v("\n          "+t._s(e.message)+"\n        ")]],2)]})],2):t._e(),i("footer",{staticClass:"kirby-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("kirby-button-group",[i("kirby-button",{attrs:{icon:"check"},on:{click:t.close}},[t._v("\n        "+t._s(t.$t("confirm"))+"\n      ")])],1)],1)],1):t._e()},ll=[],ul={methods:{open:function(){this.$refs.dialog.open(),this.$emit("open")},close:function(){this.$refs.dialog.close(),this.$emit("close")},success:function(t){this.$refs.dialog.close(),t.route&&this.$router.push(t.route),t.message&&this.$store.dispatch("notification/success",t.message),t.event&&this.$events.$emit(t.event),this.$emit("success")}}},cl={mixins:[ul],computed:{error:function(){var t=this.$store.state.notification;return"error"===t.type?t:null}},methods:{enter:function(){var t=this;this.$nextTick(function(){t.$el.querySelector(".kirby-dialog-footer .kirby-button").focus()})},exit:function(){this.$store.dispatch("notification/close")}}},pl=cl,fl=(i("yAVa"),Object(h["a"])(pl,ol,ll,!1,null,null,null)),dl=fl.exports,hl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("delete"),theme:"negative",icon:"trash"},on:{submit:t.submit}},[i("kirby-text",{domProps:{innerHTML:t._s(t.$t("file.delete.confirm",{filename:t.filename}))}})],1)},ml=[],bl={mixins:[ul],data:function(){return{parent:null,filename:null}},methods:{open:function(t,e){var i=this;this.$api.files.get(t,e).then(function(t){i.parent=t.parent,i.filename=t.filename,i.$refs.dialog.open()}).catch(function(t){i.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$api.files.delete(this.parent.id,this.filename).then(function(){t.$cache.remove(t.$route.path),t.$store.dispatch("notification/success",t.$t("file.deleted")),t.$events.$emit("file.delete"),t.$emit("success"),t.$refs.dialog.close()}).catch(function(e){t.$refs.dialog.error(e.message)})}}},gl=bl,vl=Object(h["a"])(gl,hl,ml,!1,null,null,null),yl=vl.exports,kl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("rename"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit,input:function(e){t.file.name=t.sluggify(t.file.name)}},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)},$l=[],_l=i("t0dz"),wl=i.n(_l),xl=function(t){return wl()(t).toLowerCase()},Ol={mixins:[ul],data:function(){return{parent:null,file:{id:null,name:null,filename:null,extension:null}}},computed:{fields:function(){return{name:{label:this.$t("file.name"),type:"text",required:!0,icon:"title",after:"."+this.file.extension,preselect:!0}}}},methods:{open:function(t,e){var i=this;this.parent=t,this.$api.files.get(t,e,{select:["id","filename","name","extension"]}).then(function(t){i.file=t,i.$refs.dialog.open()}).catch(function(t){i.$store.dispatch("notification/error",t)})},sluggify:function(t){return xl(t)},submit:function(){var t=this;this.$api.files.rename(this.parent,this.file.filename,this.file.name).then(function(e){var i={message:t.$t("file.renamed"),event:"file.changeName"};"File"===t.$route.name&&(i.route=t.$api.files.link(t.parent,e.filename)),t.success(i)}).catch(function(e){t.$refs.dialog.error(e.message)})}}},Cl=Ol,Sl=Object(h["a"])(Cl,kl,$l,!1,null,null,null),jl=Sl.exports,El=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("create"),notification:t.notification,size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},Tl=[],Il={mixins:[ul],data:function(){return{notification:null,parent:null,section:null,templates:[],page:{title:"",slug:"",template:null}}},computed:{fields:function(){return{title:{label:this.$t("page.title"),type:"text",required:!0,icon:"title"},slug:{label:this.$t("page.slug"),type:"text",required:!0,counter:!1,icon:"url"},template:{name:"template",label:this.$t("page.template"),type:"select",disabled:1===this.templates.length,required:!0,icon:"code",empty:!1,options:this.templates}}}},watch:{"page.title":function(t){this.page.slug=xl(t)}},methods:{open:function(t,e,i){this.parent=t,this.section=e,this.templates=i,this.page.template=i[0].value,this.$refs.dialog.open()},submit:function(){var t=this;if(0===this.page.title.length)return this.$refs.dialog.error("Please enter a title"),!1;var e={template:this.page.template,slug:this.page.slug,content:{title:this.page.title}};this.$api.post(this.parent+"/children",e).then(function(e){t.success({route:t.$api.pages.link(e.id),message:t.$t("page.created"),event:"page.create"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},ql=Il,Al=Object(h["a"])(ql,El,Tl,!1,null,null,null),Nl=Al.exports,Ll=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("delete"),theme:"negative",icon:"trash"},on:{submit:t.submit}},[i("kirby-text",{domProps:{innerHTML:t._s(t.$t("page.delete.confirm",{title:t.page.title}))}})],1)},Bl=[],Dl={mixins:[ul],data:function(){return{page:{title:null}}},methods:{open:function(t){var e=this;this.$api.pages.get(t).then(function(t){e.page=t,e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$api.pages.delete(this.page.id).then(function(){t.$cache.remove(t.$route.path);var e={message:t.$t("page.deleted"),event:"page.delete"};t.$route.params.path&&t.page.id===t.$route.params.path.replace("+","/")&&(t.page.parent?e.route="/pages/"+t.page.parent.id:e.route="/pages"),t.success(e)}).catch(function(e){t.$refs.dialog.error(e.message)})}}},Pl=Dl,Rl=Object(h["a"])(Pl,Ll,Bl,!1,null,null,null),zl=Rl.exports,Ml=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("rename"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},Hl=[],Ul={mixins:[ul],data:function(){return{page:{id:null,title:null}}},computed:{fields:function(){return{title:{label:this.$t("page.title"),type:"text",required:!0,icon:"title",preselect:!0}}}},methods:{open:function(t){var e=this;this.$api.pages.get(t,{select:["id","title"]}).then(function(t){e.page=t,e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;0!==this.page.title.length?this.$api.pages.title(this.page.id,this.page.title).then(function(){t.success({message:t.$t("page.renamed"),event:"page.changeTitle"})}).catch(function(e){t.$refs.dialog.error(e.message)}):this.$refs.dialog.error(this.$t("error.page.changeTitle.empty"))}}},Vl=Ul,Fl=Object(h["a"])(Vl,Ml,Hl,!1,null,null,null),Kl=Fl.exports,Wl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("change"),size:"medium",theme:"positive"},on:{submit:t.submit}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.changeStatus},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})],1)},Gl=[],Jl={mixins:[ul],data:function(){return{page:{id:null},isBlocked:!1,isIncomplete:!1,form:{status:null,position:null}}},computed:{fields:function(){var t=this.$api.pages.states(),e={status:{name:"status",label:this.$t("page.status.select"),type:"radio",required:!0,options:Object.keys(t).map(function(e){return{value:e,text:t[e].label,info:t[e].description}})}};return"listed"===this.form.status&&"default"===this.page.blueprint.num&&(e.position={name:"position",label:this.$t("page.num.select"),type:"select",empty:!1,options:this.sortingOptions()}),e}},methods:{sortingOptions:function(){var t=this,e=[],i=0;return this.page.siblings.forEach(function(n){if(n.id===t.page.id||n.num<1)return!1;i++,e.push({value:i,text:i}),e.push({value:n.id,text:n.title,disabled:!0})}),e.push({value:i+1,text:i+1}),e},open:function(t){var e=this;this.$api.pages.get(t,{select:["id","status","num","errors","siblings","blueprint"]}).then(function(t){return!1===t.blueprint.options.changeStatus?e.$store.dispatch("notification/error",{message:e.$t("error.page.changeStatus.permission")}):"draft"===t.status&&Object.keys(t.errors).length>0?e.$store.dispatch("notification/error",{message:e.$t("error.page.changeStatus.incomplete"),details:t.errors}):(e.page=t,e.form.status=t.status,e.form.position=t.num,void e.$refs.dialog.open())}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){this.$refs.form.submit()},changeStatus:function(){var t=this;this.$api.pages.status(this.page.id,this.form.status,this.form.position||1).then(function(e){var i="";switch(t.form.status){case"listed":i="default"===t.page.blueprint.num?t.$t("page.status.change.result.num",{num:e.num}):t.$t("page.status.change.result.listed");break;case"unlisted":i=t.$t("page.status.change.result.unlisted");break;case"draft":i=t.$t("page.status.change.result.draft")}t.success({message:i,event:"page.changeStatus"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},Yl=Jl,Zl=Object(h["a"])(Yl,Wl,Gl,!1,null,null,null),Ql=Zl.exports,Xl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("change"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},tu=[],eu={mixins:[ul],data:function(){return{blueprints:[],page:{id:null,template:null}}},computed:{fields:function(){return{template:{label:this.$t("page.template"),type:"select",required:!0,empty:!1,options:this.page.blueprints,icon:"template"}}}},methods:{open:function(t){var e=this;this.$api.pages.get(t,{select:["id","template","blueprints"]}).then(function(t){if(t.blueprints.length<=1)return e.$store.dispatch("notification/error",{message:e.$t("error.page.changeTemplate.invalid",{slug:t.id})});e.page=t,e.page.blueprints=e.page.blueprints.map(function(t){return{text:t.title,value:t.name}}),e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$events.$emit("keydown.cmd.s"),this.$api.pages.template(this.page.id,this.page.template).then(function(){t.success({message:t.$t("page.template.changed"),event:"page.changeTemplate"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},iu=eu,nu=Object(h["a"])(iu,Xl,tu,!1,null,null,null),su=nu.exports,ru=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("change"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",on:{submit:t.submit}},[i("kirby-text-field",t._b({attrs:{value:t.slug},on:{input:function(e){t.sluggify(e)}}},"kirby-text-field",t.field,!1),[i("kirby-button",{attrs:{slot:"options",icon:"wand","data-options":""},on:{click:function(e){t.sluggify(t.page.title)}},slot:"options"},[t._v("\n        "+t._s(t.$t("page.rename.fromTitle"))+"\n      ")])],1)],1)],1)},au=[],ou={mixins:[ul],data:function(){return{slug:null,url:null,page:{id:null,parent:null,title:null}}},computed:{field:function(){return{name:"slug",label:this.$t("page.slug"),type:"text",required:!0,icon:"url",help:"/"+this.url,preselect:!0}}},methods:{sluggify:function(t){this.slug=xl(t),this.page.parent?this.url=this.page.parent.id+"/"+this.slug:this.url=this.slug},open:function(t){var e=this;this.$api.pages.get(t).then(function(t){e.page=t,e.sluggify(e.page.slug),e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;if(this.slug===this.page.slug)return this.$refs.dialog.close(),void this.$store.dispatch("notification/success",this.$t("page.url.changed.same"));0!==this.slug.length?this.$api.pages.slug(this.page.id,this.slug).then(function(e){var i={message:t.$t("page.url.changed",{url:e.id}),event:"page.changeSlug"};t.$route.params.path&&t.page.id===t.$route.params.path.replace(/\+/g,"/")&&(i.route=t.$api.pages.link(e.id)),t.success(i)}).catch(function(e){t.$refs.dialog.error(e.message)}):this.$refs.dialog.error(this.$t("error.page.slug.invalid"))}}},lu=ou,uu=Object(h["a"])(lu,ru,au,!1,null,null,null),cu=uu.exports,pu={extends:Kl,methods:{open:function(){var t=this;this.$api.site.get({select:["title"]}).then(function(e){t.page=e,t.$refs.dialog.open()}).catch(function(e){t.$store.dispatch("notification/error",e)})},submit:function(){var t=this;this.$api.site.title(this.page.title).then(function(){t.success({message:t.$t("site.renamed"),event:"site.changeTitle"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},fu=pu,du=Object(h["a"])(fu,el,il,!1,null,null,null),hu=du.exports,mu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("create"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.create},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)},bu=[],gu={mixins:[ul],data:function(){return{user:{email:"",password:"",language:"en",role:"admin"},roles:[]}},computed:{fields:function(){return{email:{label:this.$t("user.email"),type:"email",icon:"email",id:"new-user-email",link:!1,required:!0},password:{label:this.$t("user.password"),type:"password",icon:"key",id:"new-user-password",required:!0},role:{label:this.$t("user.role"),type:"radio",required:!0,options:this.roles}}}},methods:{open:function(){var t=this;this.$api.roles.options().then(function(e){t.roles=e,t.$refs.dialog.open()}).catch(function(e){t.$store.dispatch("notification/error",e)})},create:function(){var t=this;this.$api.users.create(this.user).then(function(){t.user={email:"",password:"",language:"en",role:"admin"},t.success({message:t.$t("user.created"),event:"user.create"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},vu=gu,yu=Object(h["a"])(vu,mu,bu,!1,null,null,null),ku=yu.exports,$u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("change"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)},_u=[],wu={mixins:[ul],data:function(){return{user:{id:null,email:null}}},computed:{fields:function(){return{email:{label:this.$t("user.email"),preselect:!0,required:!0,type:"email"}}}},methods:{open:function(t){var e=this;this.$api.users.get(t,{select:["id","email"]}).then(function(t){e.user=t,e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$api.users.changeEmail(this.user.id,this.user.email).then(function(e){var i={message:t.$t("user.email.changed"),event:"user.changeEmail"};"User"===t.$route.name&&(i.route=t.$api.users.link(e.id)),t.success(i)}).catch(function(e){t.$refs.dialog.error(e.message)})}}},xu=wu,Ou=Object(h["a"])(xu,$u,_u,!1,null,null,null),Cu=Ou.exports,Su=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("change"),theme:"positive",icon:"check"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)},ju=[],Eu={mixins:[ul],data:function(){return{user:{language:"en"},languages:[]}},computed:{fields:function(){return{language:{label:this.$t("user.language"),type:"select",icon:"globe",options:this.languages,required:!0,empty:!1}}}},created:function(){var t=this;this.$api.translations.options().then(function(e){t.languages=e})},methods:{open:function(t){var e=this;this.$api.users.get(t,{view:"compact"}).then(function(t){e.user=t,e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$api.users.changeLanguage(this.user.id,this.user.language).then(function(e){t.user=e,t.$store.state.user.current.id===t.user.id&&t.$store.dispatch("user/language",t.user.language),t.success({message:t.$t("user.language.changed"),event:"user.changeLanguage"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},Tu=Eu,Iu=Object(h["a"])(Tu,Su,ju,!1,null,null,null),qu=Iu.exports,Au=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("change"),theme:"positive",icon:"check"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})],1)},Nu=[],Lu={mixins:[ul],data:function(){return{user:null,values:{password:null,passwordConfirmation:null}}},computed:{fields:function(){return{password:{label:this.$t("user.password.new"),type:"password",icon:"key",required:!0},passwordConfirmation:{label:this.$t("user.password.new.confirm"),icon:"key",type:"password",required:!0}}}},methods:{open:function(t){var e=this;this.$api.users.get(t).then(function(t){e.user=t,e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;return this.values.password.length<8?(this.$store.dispatch("notification/error",this.$t("error.user.password.invalid")),!1):this.values.password!==this.values.passwordConfirmation?(this.$store.dispatch("notification/error",this.$t("error.user.password.notSame")),!1):void this.$api.users.changePassword(this.user.id,this.values.password).then(function(){t.success({message:t.$t("user.password.changed"),event:"user.changePassword"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},Bu=Lu,Du=Object(h["a"])(Bu,Au,Nu,!1,null,null,null),Pu=Du.exports,Ru=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("delete"),theme:"negative",icon:"trash"},on:{submit:t.submit}},[i("kirby-text",{domProps:{innerHTML:t._s(t.$t("user.delete.confirm",{email:t.user.email}))}})],1)},zu=[],Mu={mixins:[ul],data:function(){return{user:{email:null}}},methods:{open:function(t){var e=this;this.$api.users.get(t).then(function(t){e.user=t,e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$api.users.delete(this.user.id).then(function(){t.success({message:t.$t("user.deleted"),event:"user.delete"}),"User"===t.$route.name&&t.$router.push("/users")}).catch(function(e){t.$refs.dialog.error(e.message)})}}},Hu=Mu,Uu=Object(h["a"])(Hu,Ru,zu,!1,null,null,null),Vu=Uu.exports,Fu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("rename"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)},Ku=[],Wu={mixins:[ul],data:function(){return{user:{id:null,name:null}}},computed:{fields:function(){return{name:{label:this.$t("user.name"),type:"text",icon:"user",preselect:!0}}}},methods:{open:function(t){var e=this;this.$api.users.get(t,{select:["id","name"]}).then(function(t){e.user=t,e.$refs.dialog.open()}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$api.users.changeName(this.user.id,this.user.name).then(function(){t.success({message:t.$t("user.name.changed"),event:"user.changeName"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},Gu=Wu,Ju=Object(h["a"])(Gu,Fu,Ku,!1,null,null,null),Yu=Ju.exports,Zu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dialog",{ref:"dialog",attrs:{button:t.$t("user.role.change"),size:"medium",theme:"positive"},on:{submit:function(e){t.$refs.form.submit()}}},[i("kirby-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1)},Qu=[],Xu={mixins:[ul],data:function(){return{roles:[],user:{id:null,role:"visitor"}}},computed:{fields:function(){return{role:{label:this.$t("user.role.select"),type:"radio",required:!0,options:this.roles}}}},methods:{open:function(t){var e=this;this.id=t,this.$api.users.get(t).then(function(t){e.$api.roles.options().then(function(i){e.roles=i,e.user=t,e.user.role=e.user.role.name,e.$refs.dialog.open()})}).catch(function(t){e.$store.dispatch("notification/error",t)})},submit:function(){var t=this;this.$api.users.changeRole(this.user.id,this.user.role).then(function(){t.success({message:t.$t("user.role.changed",{role:t.user.role}),event:"user.changeRole"})}).catch(function(e){t.$refs.dialog.error(e.message)})}}},tc=Xu,ec=Object(h["a"])(tc,Zu,Qu,!1,null,null,null),ic=ec.exports,nc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasChanges?i("nav",{staticClass:"kirby-form-buttons"},[i("kirby-view",[i("kirby-button",{staticClass:"kirby-form-button",attrs:{icon:"undo"},on:{click:t.reset}},[t._v("\n      "+t._s(t.$t("revert"))+"\n    ")]),i("kirby-button",{staticClass:"kirby-form-button",attrs:{icon:"check"},on:{click:t.save}},[t._v("\n      "+t._s(t.$t("save"))+"\n    ")])],1)],1):t._e()},sc=[],rc={data:function(){return{hasChanges:!1}},computed:{id:function(){return this.$cache.id(this.$route,this.$store)}},watch:{$route:function(){this.hasChanges=!1}},created:function(){this.refresh(),this.$events.$on("keydown.cmd.s",this.save),this.$events.$on("form.changed",this.refresh)},destroyed:function(){this.$events.$off("keydown.cmd.s",this.save),this.$events.$off("form.changed",this.refresh)},methods:{refresh:function(){this.hasChanges=this.$cache.exists(this.id)},reset:function(){this.$cache.remove(this.id),this.$events.$emit("form.reset"),this.refresh()},save:function(t){var e=this;if(!t)return!1;t.preventDefault&&t.preventDefault(),this.$api.patch(this.id.substr(1),this.$cache.get(this.id)).then(function(){e.$cache.remove(e.id),e.$events.$emit("form.saved"),e.$store.dispatch("notification/success",e.$t("saved")),e.refresh()}).catch(function(t){t.details?e.$store.dispatch("notification/error",{message:e.$t("error.form.incomplete"),details:t.details}):e.$store.dispatch("notification/error",{message:"The form could not be submitted",details:[{label:"Exception: "+t.exception,message:t.message}]})})}}},ac=rc,oc=(i("vbVY"),Object(h["a"])(ac,nc,sc,!1,null,null,null)),lc=oc.exports,uc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-dropzone",attrs:{"data-dragging":t.dragging,"data-over":t.over},on:{dragenter:t.onEnter,dragleave:t.onLeave,dragover:t.onOver,drop:t.onDrop}},[t._t("default")],2)},cc=[],pc={props:{label:{type:String,default:"Drop to upload"},disabled:{type:Boolean,default:!1}},data:function(){return{files:[],dragging:!1,over:!1}},methods:{cancel:function(){this.reset()},reset:function(){this.dragging=!1,this.over=!1},onDrop:function(t){return!0===this.disabled?this.reset():t.dataTransfer.types?!1===t.dataTransfer.types.includes("Files")?this.reset():(this.$events.$emit("dropzone.drop"),this.files=t.dataTransfer.files,this.$emit("drop",this.files),void this.reset()):this.reset()},onEnter:function(t){!1===this.disabled&&t.dataTransfer.types&&t.dataTransfer.types.includes("Files")&&(this.dragging=!0)},onLeave:function(t){this.reset()},onOver:function(t){!1===this.disabled&&t.dataTransfer.types&&t.dataTransfer.types.includes("Files")&&(t.dataTransfer.dropEffect="copy",this.over=!0)}}},fc=pc,dc=(i("4Q39"),Object(h["a"])(fc,uc,cc,!1,null,null,null)),hc=dc.exports,mc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kirby-file-preview"},[i("kirby-view",{staticClass:"kirby-file-preview-layout"},[i("div",{staticClass:"kirby-file-preview-image"},[i("a",{attrs:{href:t.file.url,target:"_blank"}},[t.preview.image?i("kirby-image",{attrs:{src:t.preview.image,back:"none"}}):i("kirby-icon",{staticClass:"kirby-file-preview-icon",style:{color:t.preview.color},attrs:{type:t.preview.icon||"document"}})],1)]),i("div",{staticClass:"kirby-file-preview-details"},[i("ul",[i("li",[i("h3",[t._v(t._s(t.$t("file.template")))]),i("p",[t._v(t._s(t.file.template||"â€”"))])]),i("li",[i("h3",[t._v(t._s(t.$t("file.mime")))]),i("p",[t._v(t._s(t.file.mime))])]),i("li",[i("h3",[t._v(t._s(t.$t("file.url")))]),i("p",[i("a",{attrs:{href:t.file.url,target:"__blank"}},[t._v("/"+t._s(t.file.id))])])]),i("li",[i("h3",[t._v(t._s(t.$t("file.size")))]),i("p",[t._v(t._s(t.file.niceSize))])]),i("li",[i("h3",[t._v(t._s(t.$t("file.dimensions")))]),t.file.dimensions?i("p",[t._v(t._s(t.file.dimensions.width)+"Ã—"+t._s(t.file.dimensions.height)+" "+t._s(t.$t("file.dimensions.pixel")))]):i("p",[t._v("â€”")])]),i("li",[i("h3",[t._v(t._s(t.$t("file.orientation")))]),t.file.dimensions?i("p",[t._v(t._s(t.file.dimensions.orientation))]):i("p",[t._v("â€”")])])])])])],1)},bc=[],gc={props:{file:Object},computed:{preview:function(){return this.$api.files.preview(this.file)}}},vc=gc,yc=(i("Jpho"),Object(h["a"])(vc,mc,bc,!1,null,null,null)),kc=yc.exports,$c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVisible?i("header",{staticClass:"kirby-topbar"},[i("kirby-view",[i("div",{staticClass:"kirby-topbar-wrapper"},[i("kirby-dropdown",{staticClass:"kirby-topbar-menu"},[i("kirby-button",{staticClass:"kirby-topbar-button kirby-topbar-menu-button",attrs:{icon:"bars"},on:{click:function(e){t.$refs.menu.toggle()}}},[i("kirby-icon",{attrs:{type:"angle-down"}})],1),i("kirby-dropdown-content",{ref:"menu",staticClass:"kirby-topbar-menu"},[i("ul",[t._l(t.views,function(e,n){return e.menu?i("li",{key:"menu-item-"+n,attrs:{"aria-current":t.$route.meta.view===n}},[i("kirby-dropdown-item",{attrs:{disabled:!1===t.$permissions.access[n],icon:e.icon,link:e.link}},[t._v("\n                "+t._s(t.$t("view."+n,e.label))+"\n              ")])],1):t._e()}),i("li",[i("hr")]),i("li",{attrs:{"aria-current":"account"===t.$route.meta.view}},[i("kirby-dropdown-item",{attrs:{icon:"account",link:"/account"}},[t._v("\n                "+t._s(t.$t("view.account"))+"\n              ")])],1),i("li",[i("hr")]),i("li",[i("kirby-dropdown-item",{attrs:{icon:"logout",link:"/logout"}},[t._v("\n                "+t._s(t.$t("logout"))+"\n              ")])],1)],2)])],1),t.view?i("kirby-link",{directives:[{name:"tab",rawName:"v-tab"}],staticClass:"kirby-topbar-button kirby-topbar-view-button",attrs:{to:t.view.link}},[i("kirby-icon",{attrs:{type:t.view.icon}}),t._v(" "+t._s(t.$t("view."+t.$store.state.view,t.view.label))+"\n      ")],1):t._e(),t.$store.state.breadcrumb.length>1?i("kirby-dropdown",{staticClass:"kirby-topbar-breadcrumb-menu"},[i("kirby-button",{staticClass:"kirby-topbar-button",on:{click:function(e){t.$refs.crumb.toggle()}}},[t._v("\n          â€¦\n          "),i("kirby-icon",{attrs:{type:"angle-down"}})],1),i("kirby-dropdown-content",{ref:"crumb"},[i("kirby-dropdown-item",{attrs:{icon:t.view.icon,link:t.view.link}},[t._v("\n            "+t._s(t.$t("view."+t.$store.state.view,t.view.label))+"\n          ")]),t._l(t.$store.state.breadcrumb,function(e,n){return i("kirby-dropdown-item",{key:"crumb-"+n+"-dropdown",attrs:{icon:t.view.icon,link:e.link}},[t._v("\n            "+t._s(e.label)+"\n          ")])})],2)],1):t._e(),i("nav",{staticClass:"kirby-topbar-crumbs"},t._l(t.$store.state.breadcrumb,function(e,n){return i("kirby-link",{directives:[{name:"tab",rawName:"v-tab"}],key:"crumb-"+n,attrs:{to:e.link}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),i("div",{staticClass:"kirby-topbar-signals"},[t.notification?i("kirby-button",{staticClass:"kirby-topbar-notification",attrs:{theme:"positive"},on:{click:function(e){t.$store.dispatch("notification/close")}}},[t._v("\n          "+t._s(t.notification.message)+"\n        ")]):t._e(),i("kirby-button",{attrs:{icon:"search"},on:{click:function(e){t.$store.dispatch("search",!0)}}})],1)],1)])],1):t._e()},_c=[],wc=Object(l["a"])({site:{link:"/site",icon:"page",menu:!0},users:{link:"/users",icon:"users",menu:!0},account:{link:"/account",icon:"users",menu:!1}},window.panel.plugins.views),xc={computed:{view:function(){return wc[this.$store.state.view]},views:function(){return wc},user:function(){return this.$store.state.user.current},notification:function(){return this.$store.state.notification.type&&"error"!==this.$store.state.notification.type?this.$store.state.notification:null},isVisible:function(){return this.user&&!this.$route.meta.outside&&this.view}}},Oc=xc,Cc=(i("n5Mj"),Object(h["a"])(Oc,$c,_c,!1,null,null,null)),Sc=Cc.exports,jc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-grid",{staticClass:"kirby-sections",attrs:{gutter:"fluid"}},t._l(t.columns,function(e,n){return i("kirby-column",{key:t.parent+"-column-"+n,attrs:{width:e.width}},[t._l(e.sections,function(e,s){return[t.exists(e.type)?i("kirby-"+e.type+"-section",{key:t.parent+"-column-"+n+"-section-"+s,tag:"component",staticClass:"kirby-section",attrs:{name:e.name,parent:t.parent,blueprint:t.blueprint},on:{submit:function(e){t.$emit("submit",e)}}}):[i("kirby-box",{key:t.parent+"-column-"+n+"-section-"+s,attrs:{text:t.$t("error.blueprint.section.type.invalid",{type:e.type}),theme:"negative"}})]]})],2)}))},Ec=[],Tc={props:{parent:String,blueprint:String,columns:Array},methods:{exists:function(t){return n["a"].options.components["kirby-"+t+"-section"]}}},Ic=Tc,qc=(i("9z72"),Object(h["a"])(Ic,jc,Ec,!1,null,null,null)),Ac=qc.exports,Nc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"kirby-info-section"},[i("kirby-headline",{staticClass:"kirby-info-section-headline"},[t._v(t._s(t.headline))]),i("kirby-box",{attrs:{theme:t.theme}},[i("kirby-text",{domProps:{innerHTML:t._s(t.text)}})],1)],1)},Lc=[],Bc={props:{parent:String,blueprint:String,name:String},watch:{blueprint:function(){this.fetch()}}},Dc={mixins:[Bc],data:function(){return{headline:null,issue:null,text:null,theme:null}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;this.$api.get(this.parent+"/sections/"+this.name).then(function(e){t.headline=e.data.headline,t.text=e.data.text,t.theme=e.data.theme||"info"}).catch(function(e){t.issue=e})}}},Pc=Dc,Rc=(i("NajB"),Object(h["a"])(Pc,Nc,Lc,!1,null,null,null)),zc=Rc.exports,Mc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!1===t.isLoading?i("section",{staticClass:"kirby-pages-section",attrs:{"data-error":t.error}},[i("header",{staticClass:"kirby-section-header"},[i("kirby-headline",{attrs:{link:t.link}},[t._v("\n      "+t._s(t.headline)+" "),t.min?i("abbr",{attrs:{title:"This section is required"}},[t._v("*")]):t._e()]),t.add?i("kirby-button-group",[i("kirby-button",{attrs:{icon:"add"},on:{click:function(e){t.action(null,"create")}}},[t._v(t._s(t.$t("add")))])],1):t._e()],1),t.issue?[i("kirby-box",{attrs:{theme:"negative"}},[i("kirby-text",{attrs:{size:"small"}},[i("strong",[t._v(t._s(t.$t("error.blueprint.section.notLoaded",{name:t.name}))+":")]),t._v("\n        "+t._s(t.issue)+"\n      ")])],1)]:[i("kirby-collection",{attrs:{layout:t.layout,items:t.data,pagination:t.pagination,sortable:t.sortable},on:{change:t.sort,paginate:t.paginate,action:t.action}}),i("kirby-page-create-dialog",{ref:"create"}),i("kirby-page-rename-dialog",{ref:"rename",on:{success:t.fetch}}),i("kirby-page-url-dialog",{ref:"url",on:{success:t.fetch}}),i("kirby-page-status-dialog",{ref:"status",on:{success:t.fetch}}),i("kirby-page-template-dialog",{ref:"template",on:{success:t.fetch}}),i("kirby-page-remove-dialog",{ref:"remove",on:{success:t.fetch}})],t.error?i("div",{staticClass:"kirby-pages-section-error"},[t._v("\n    "+t._s(t.error.message)+"\n  ")]):t._e()],2):t._e()},Hc=[],Uc=(i("Vd3H"),{mixins:[Bc],data:function(){return{add:!1,blueprints:[],data:[],issue:!1,error:!1,headline:null,isLoading:!0,min:null,max:null,layout:"list",status:null,page:1,link:!1}},created:function(){this.fetch(),this.$events.$on("page.changeStatus",this.fetch)},destroyed:function(){this.$events.$off("page.changeStatus",this.fetch)},methods:{fetch:function(){var t=this;this.$api.get(this.parent+"/sections/"+this.name,{page:this.page}).then(function(e){var i=t.$api.pages.states();t.data=e.data.map(function(n){return n.options=function(e){t.$api.pages.options(n.id,"list").then(function(t){return e(t)})},n.sortable=n.permissions.sort&&e.options.sortable,n.flag={tooltip:i[n.status].label,class:"kirby-status-flag kirby-status-flag-"+n.status,icon:!1===n.permissions.changeStatus?"protected":"circle",disabled:!1===n.permissions.changeStatus,click:function(){t.action(n,"status")}},n}),t.add=e.options.add&&t.$permissions.pages.create,t.blueprints=e.options.blueprints,t.pagination=e.pagination,t.status=e.options.status,t.headline=e.options.headline||"Â ",t.sortable=e.options.sortable,t.min=e.options.min,t.max=e.options.max,t.layout=e.options.layout||"list",t.link=e.options.link,t.error=e.options.errors[0],t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.issue=e.message})},sort:function(t){var e=this,i=null;if(t.added&&(i="added"),t.moved&&(i="moved"),i){var n=t[i].element,s=t[i].newIndex+1+this.pagination.offset;this.$api.pages.status(n.id,this.status,s).then(function(){e.$store.dispatch("notification/success",e.$t("page.sorted")),e.$events.$emit("page.changeStatus")}).catch(function(t){e.$store.dispatch("notification/error",{message:t.message,details:t.details}),e.$events.$emit("page.changeStatus")})}},action:function(t,e){switch(e){case"create":this.$refs.create.open(this.parent,this.name,this.blueprints.map(function(t){return{value:t.name,text:t.title}}));break;case"preview":window.open(t.url);break;case"rename":this.$refs.rename.open(t.id);break;case"url":this.$refs.url.open(t.id);break;case"status":this.$refs.status.open(t.id);break;case"template":this.$refs.template.open(t.id);break;case"remove":this.$refs.remove.open(t.id);break}},paginate:function(t){this.page=t.page,this.fetch()}}}),Vc=Uc,Fc=Object(h["a"])(Vc,Mc,Hc,!1,null,null,null),Kc=Fc.exports,Wc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!1===t.isLoading?i("section",{staticClass:"kirby-files-section"},[i("header",{staticClass:"kirby-section-header"},[i("kirby-headline",[t._v("\n      "+t._s(t.headline)+" "),t.min?i("abbr",{attrs:{title:"This section is required"}},[t._v("*")]):t._e()]),t.add?i("kirby-button-group",[i("kirby-button",{attrs:{icon:"upload"},on:{click:t.upload}},[t._v(t._s(t.$t("add")))])],1):t._e()],1),t.issue?[i("kirby-box",{attrs:{theme:"negative"}},[i("kirby-text",{attrs:{size:"small"}},[i("strong",[t._v(t._s(t.$t("error.blueprint.section.notLoaded",{name:t.name}))+":")]),t._v("\n        "+t._s(t.issue)+"\n      ")])],1)]:[i("kirby-dropzone",{attrs:{disabled:!1===t.add},on:{drop:t.drop}},[i("kirby-collection",{attrs:{layout:t.layout,items:t.data,pagination:t.pagination,sortable:t.sortable},on:{sort:t.sort,paginate:t.paginate,action:t.action}})],1),i("kirby-file-rename-dialog",{ref:"rename",on:{success:t.fetch}}),i("kirby-file-remove-dialog",{ref:"remove",on:{success:t.fetch}}),i("kirby-upload",{ref:"upload",on:{success:t.uploaded,error:t.fetch}})]],2):t._e()},Gc=[],Jc={mixins:[Bc],data:function(){return{accept:"*",add:!1,data:[],error:!1,headline:null,isLoading:!0,min:null,max:null,issue:!1,layout:"list",page:1,pagination:{},template:null}},computed:{uploadParams:function(){return{url:p.api+"/"+this.parent+"/files",accept:this.accept,attributes:{template:this.template}}}},created:function(){this.fetch()},mounted:function(){this.$events.$on("file.create",this.fetch),this.$events.$on("file.delete",this.fetch)},destroyed:function(){this.$events.$off("file.create",this.fetch),this.$events.$off("file.delete",this.fetch)},methods:{fetch:function(){var t=this;this.$api.get(this.parent+"/sections/"+this.name,{page:this.page}).then(function(e){t.accept=e.options.accept||"*",t.error=e.options.errors[0],t.headline=e.options.headline||"Â ",t.add=e.options.add&&t.$permissions.files.create,t.min=e.options.min,t.max=e.options.max,t.template=e.options.template,t.pagination=e.pagination,t.sortable=!0===e.options.sortable&&e.data.length>1,t.layout=e.options.layout||"list",t.isLoading=!1,t.data=e.data.map(function(e){return e.options=function(i){t.$api.files.options(e.parent,e.filename,"list").then(function(t){return i(t)})},e.sortable=t.sortable,e})}).catch(function(e){t.isLoading=!1,t.issue=e.message})},sort:function(t){var e=this;if(!1===this.sortable)return!1;t=t.map(function(t){return t.id}),this.$api.patch(this.parent+"/sections/"+this.name+"/sort",{items:t}).then(function(){e.$store.dispatch("notification/success",e.$t("file.sorted"))}).catch(function(t){e.fetch(),e.$store.dispatch("notification/error",t.message)})},action:function(t,e){switch(e){case"edit":this.$router.push(t.link);break;case"download":window.open(t.url);break;case"rename":this.$refs.rename.open(t.parent,t.filename);break;case"replace":this.replace(t);break;case"remove":this.$refs.remove.open(t.parent,t.filename);break}},drop:function(t){this.$refs.upload.drop(t,this.uploadParams)},upload:function(){this.$refs.upload.open(this.uploadParams)},replace:function(t){this.$refs.upload.open({url:p.api+"/"+this.$api.files.url(t.parent,t.filename),accept:t.mime,multiple:!1})},uploaded:function(){this.fetch(),this.$events.$emit("file.create"),this.$store.dispatch("notification/success",this.$t("file.uploaded"))},paginate:function(t){this.page=t.page,this.fetch()}}},Yc=Jc,Zc=Object(h["a"])(Yc,Wc,Gc,!1,null,null,null),Qc=Zc.exports,Xc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"kirby-fields-section"},[t.issue?[i("kirby-headline",{staticClass:"kirby-fields-issue-headline"},[t._v("Error")]),i("kirby-box",{attrs:{text:t.issue.message,theme:"negative"}})]:i("kirby-form",{attrs:{fields:t.fields,validate:!0},on:{input:t.input,submit:t.onSubmit},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})],2)},tp=[],ep={mixins:[Bc],data:function(){return{errors:[],fields:[],isLoading:!0,stored:{},values:{},issue:null}},computed:{id:function(){return this.$cache.id(this.$route,this.$store)}},created:function(){this.fetch(),this.$events.$on("form.saved",this.fetch),this.$events.$on("form.reset",this.fetch)},destroyed:function(){this.$events.$off("form.saved",this.fetch),this.$events.$off("form.reset",this.fetch)},methods:{input:function(t){this.$cache.set(this.id,t),this.$events.$emit("form.changed")},fetch:function(){var t=this;this.$api.get(this.parent+"/sections/"+this.name).then(function(e){t.errors=e.options.errors,t.fields=e.options.fields,t.stored=e.data,t.values=Object.assign({},e.data,t.$cache.get(t.id)||{}),t.$events.$emit("form.changed"),t.isLoading=!1}).catch(function(e){t.issue=e,t.isLoading=!1})},onSubmit:function(t){this.$events.$emit("keydown.cmd.s",t)}}},ip=ep,np=(i("8n0F"),Object(h["a"])(ip,Xc,tp,!1,null,null,null)),sp=np.exports,rp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0===t.tabs.length?i("kirby-box",{attrs:{text:"This page has no blueprint setup yet",theme:"info"}}):t.tab?i("kirby-sections",{attrs:{parent:t.parent,blueprint:t.blueprint,columns:t.tab.columns},on:{submit:function(e){t.$emit("submit",e)}}}):t._e()},ap=[],op={props:{parent:String,blueprint:String,tabs:Array},data:function(){return{tab:null}},watch:{$route:function(){this.open()},blueprint:function(){this.open()}},mounted:function(){this.open()},methods:{open:function(t){if(0!==this.tabs.length){t||(t=this.$route.hash.replace("#","")),t||(t=this.tabs[0].name);var e=null;this.tabs.forEach(function(i){i.name===t&&(e=i)}),e||(e=this.tabs[0]),this.tab=e,this.$emit("tab",this.tab)}}}},lp=op,up=Object(h["a"])(lp,rp,ap,!1,null,null,null),cp=up.exports,pp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-dropdown",{staticClass:"kirby-tabs-dropdown"},[i("kirby-button",{key:t.tab.name+"-toggle",staticClass:"kirby-tabs-dropdown-toggle",attrs:{icon:t.tab.icon},on:{click:function(e){t.$refs.tabs.toggle()}}},[t._v(t._s(t.tab.label))]),i("kirby-dropdown-content",{ref:"tabs"},t._l(t.tabs,function(e){return i("kirby-dropdown-item",{key:e.name+"-dropdown-item",attrs:{icon:e.icon,link:"#"+e.name}},[t._v(t._s(e.label))])}))],1)},fp=[],dp={props:{tabs:Array},data:function(){return{tab:this.tabs[0]}},methods:{open:function(t){var e=this;this.tabs.forEach(function(i){i.name===t&&(e.tab=i,e.$emit("open",i.name))})}}},hp=dp,mp=(i("mncL"),Object(h["a"])(hp,pp,fp,!1,null,null,null)),bp=mp.exports,gp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-view",{staticClass:"kirby-error-view"},[i("div",{staticClass:"kirby-error-view-content"},[i("kirby-text",[i("p",[i("kirby-icon",{staticClass:"kirby-error-view-icon",attrs:{type:"alert"}})],1),i("p",[t._t("default")],2)])],1)])},vp=[],yp=(i("E+yj"),{}),kp=Object(h["a"])(yp,gp,vp,!1,null,null,null),$p=kp.exports;n["a"].component("kirby-dialog",al),n["a"].component("kirby-error-dialog",dl),n["a"].component("kirby-file-rename-dialog",jl),n["a"].component("kirby-file-remove-dialog",yl),n["a"].component("kirby-page-create-dialog",Nl),n["a"].component("kirby-page-rename-dialog",Kl),n["a"].component("kirby-page-remove-dialog",zl),n["a"].component("kirby-page-status-dialog",Ql),n["a"].component("kirby-page-template-dialog",su),n["a"].component("kirby-page-url-dialog",cu),n["a"].component("kirby-site-rename-dialog",hu),n["a"].component("kirby-user-create-dialog",ku),n["a"].component("kirby-user-email-dialog",Cu),n["a"].component("kirby-user-language-dialog",qu),n["a"].component("kirby-user-password-dialog",Pu),n["a"].component("kirby-user-remove-dialog",Vu),n["a"].component("kirby-user-rename-dialog",Yu),n["a"].component("kirby-user-role-dialog",ic),n["a"].component("kirby-form-buttons",lc),n["a"].component("kirby-dropzone",hc),n["a"].component("kirby-file-preview",kc),n["a"].component("kirby-topbar",Sc),n["a"].component("kirby-sections",Ac),n["a"].component("kirby-info-section",zc),n["a"].component("kirby-pages-section",Kc),n["a"].component("kirby-files-section",Qc),n["a"].component("kirby-fields-section",sp),n["a"].component("kirby-tabs",cp),n["a"].component("kirby-tabs-dropdown",bp),n["a"].component("kirby-error-view",$p);var _p={user:function(){return Ip.get("auth")},login:function(t){var e={long:t.remember||!1},i={headers:{Authorization:"Basic ".concat(btoa("".concat(t.email,":").concat(t.password)))}};return Ip.post("auth/login",e,i).then(function(t){return t.user})},logout:function(){return Ip.post("auth/logout")}},wp={get:function(t,e,i){return Ip.get(this.url(t,e),i).then(function(t){return!0===Array.isArray(t.content)&&(t.content={}),t})},update:function(t,e,i){return Ip.patch(this.url(t,e),i)},rename:function(t,e,i){return Ip.patch(this.url(t,e,"rename"),{name:i})},url:function(t,e,i){var n="";return n=t?Ip.pages.url(t,"files/"+e):"site/files/"+e,i&&(n+="/"+i),n},link:function(t,e,i){return"/"+this.url(t,e,i)},delete:function(t,e){return Ip.delete(this.url(t,e))},options:function(t,e,i){return Ip.get(this.url(t,e,"options")).then(function(t){var e=[];return"list"===i&&e.push({icon:"open",text:n["a"].i18n.translate("open"),click:"download"}),e.push({icon:"title",text:n["a"].i18n.translate("rename"),click:"rename",disabled:!t.changeName}),e.push({icon:"upload",text:n["a"].i18n.translate("replace"),click:"replace",disabled:!t.replace}),e.push({icon:"trash",text:n["a"].i18n.translate("delete"),click:"remove",disabled:!t.delete}),e})},preview:function(t){if("image"===t.type)return{image:t.url};var e={icon:"file",color:"#81a2be"};switch(t.mime){case"application/zip":e.icon="file-zip";break}switch(e.color=this.color(t),t.extension){case"indd":e.color="#cc6666";break;case"pdf":e.icon="file-pdf";break;case"css":case"js":case"xml":e.icon="file-code";break;case"xls":case"xlsx":case"csv":e.icon="file-checklist",e.color="#b5bd68";break;case"mdown":case"md":e.icon="markdown";break;case"mov":case"m4v":e.icon="video";break}return e},color:function(t){switch(t.type){case"image":return"#454953";case"video":return"#f0c674";case"document":return"#cc6666";case"audio":return"#8abeb7";case"code":return"#b294bb";default:return"#81a2be"}},breadcrumb:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.parents.map(function(t){return{label:t.slug,link:Ip.pages.link(t.id)}});return!0===e&&i.push({label:t.filename,link:this.link(t.parent.id,t.filename)+"?"+(new Date).getTime()}),i}},xp={create:function(t,e){return null===t||"/"===t?Ip.post("site/children",e):Ip.post(this.url(t,"children"),e)},url:function(t,e){var i=null===t?"pages":"pages/"+t.replace(/\//g,"+");return e&&(i+="/"+e),i},link:function(t){return"/"+this.url(t)},get:function(t,e){return Ip.get(this.url(t),e).then(function(t){return!0===Array.isArray(t.content)&&(t.content={}),t})},options:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view";return Ip.get(this.url(t,"options")).then(function(t){var i=[];return"list"===e&&i.push({click:"preview",icon:"open",text:n["a"].i18n.translate("open")}),i.push({click:"rename",icon:"title",text:n["a"].i18n.translate("rename"),disabled:!t.changeTitle}),i.push({click:"url",icon:"url",text:n["a"].i18n.translate("page.url.change"),disabled:!t.changeSlug}),i.push({click:"status",icon:"preview",text:n["a"].i18n.translate("page.status.change"),disabled:!t.changeStatus}),i.push({click:"template",icon:"template",text:n["a"].i18n.translate("page.template.change"),disabled:!t.changeTemplate}),i.push({click:"remove",icon:"trash",text:n["a"].i18n.translate("delete"),disabled:!t.delete}),i})},update:function(t,e){return Ip.patch(this.url(t),e)},children:function(t,e){return Ip.post(this.url(t,"children/search"),e)},files:function(t,e){return Ip.post(this.url(t,"files/search"),e)},delete:function(t){return Ip.delete(this.url(t))},slug:function(t,e){return Ip.patch(this.url(t,"slug"),{slug:e})},title:function(t,e){return Ip.patch(this.url(t,"title"),{title:e})},template:function(t,e){return Ip.patch(this.url(t,"template"),{template:e})},search:function(t,e){return t?Ip.post("pages/"+t.replace("/","+")+"/children/search?select=id,title,hasChildren",e):Ip.post("site/children/search?select=id,title,hasChildren",e)},status:function(t,e,i){return Ip.patch(this.url(t,"status"),{status:e,position:i})},states:function(){return{draft:{icon:"draft",label:n["a"].i18n.translate("page.status.draft"),description:n["a"].i18n.translate("page.status.draft.description")},unlisted:{icon:"toggle-off",label:n["a"].i18n.translate("page.status.unlisted"),description:n["a"].i18n.translate("page.status.unlisted.description")},listed:{icon:"toggle-on",label:n["a"].i18n.translate("page.status.listed"),description:n["a"].i18n.translate("page.status.listed.description")}}},breadcrumb:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.parents.map(function(t){return{label:t.slug,link:e.link(t.id)}});return!0===i&&n.push({label:t.slug,link:this.link(t.id)+"?"+(new Date).getTime()}),n}},Op={running:0,request:function(t,e){var i=this;return e=Object.assign(e||{},{credentials:"same-origin",headers:Object(l["a"])({"x-requested-with":"xmlhttprequest","content-type":"application/json"},e.headers)}),Ip.config.onStart(),this.running++,fetch(Ip.config.endpoint+"/"+t,e).then(function(t){return t.json()}).then(function(t){if(t.status&&"error"===t.status)throw t;var e=t;return t.data&&t.type&&"model"===t.type&&(e=t.data),i.running--,Ip.config.onComplete(),Ip.config.onSuccess(t),e}).catch(function(t){throw i.running--,Ip.config.onComplete(),Ip.config.onError(t),t})},get:function(t,e,i){return e&&(t+="?"+Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")),this.request(t,Object.assign(i||{},{method:"GET"}))},post:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";return this.request(t,Object.assign(i||{},{method:n,body:JSON.stringify(e)}))},patch:function(t,e,i){return this.post(t,e,i,"PATCH")},delete:function(t){return this.request(t,{method:"DELETE"})}},Cp={list:function(){return Ip.get("roles")},get:function(t){return Ip.get("roles/"+t)},options:function(){return this.list().then(function(t){return t.data.map(function(t){return{info:t.description||"(".concat(n["a"].i18n.translate("user.role.noDescription"),")"),text:t.title,value:t.name}})})}},Sp={info:function(t){return Ip.get("system",t)},install:function(t){return Ip.post("system/install",t).then(function(t){return t.user})}},jp={get:function(t){return Ip.get("site",t)},update:function(t){return Ip.post("site",t)},title:function(t){return Ip.patch("site/title",{title:t})},options:function(){return Ip.get("site/options").then(function(t){var e=[];return e.push({click:"rename",icon:"title",text:n["a"].i18n.translate("rename"),disabled:!t.changeTitle}),e})},children:function(t){return Ip.post("site/children/search",t)},blueprint:function(){return Ip.get("site/blueprint")},blueprints:function(){return Ip.get("site/blueprints")}},Ep={list:function(){return Ip.get("translations")},get:function(t){return Ip.get("translations/"+t)},options:function(){var t=[];return this.list().then(function(e){return t=e.data.map(function(t){return{value:t.id,text:t.name}}),t})}},Tp={create:function(t){return Ip.post(this.url(),t)},list:function(t){return Ip.post(this.url(null,"search"),t)},get:function(t,e){return Ip.get(this.url(t),e)},update:function(t,e){return Ip.patch(this.url(t),e)},delete:function(t){return Ip.delete(this.url(t))},changeEmail:function(t,e){return Ip.patch(this.url(t,"email"),{email:e})},changeLanguage:function(t,e){return Ip.patch(this.url(t,"language"),{language:e})},changeName:function(t,e){return Ip.patch(this.url(t,"name"),{name:e})},changePassword:function(t,e){return Ip.patch(this.url(t,"password"),{password:e})},changeRole:function(t,e){return Ip.patch(this.url(t,"role"),{role:e})},deleteAvatar:function(t){return Ip.delete(this.url(t,"avatar"))},blueprint:function(t){return Ip.get(this.url(t,"blueprint"))},breadcrumb:function(t){return[{link:"/users/"+t.id+"?"+(new Date).getTime(),label:t.username}]},options:function(t){return Ip.get(this.url(t,"options")).then(function(t){var e=[];return e.push({click:"rename",icon:"title",text:n["a"].i18n.translate("user.name.change"),disabled:!t.changeName}),e.push({click:"email",icon:"email",text:n["a"].i18n.translate("user.email.change"),disabled:!t.changeEmail}),e.push({click:"role",icon:"bolt",text:n["a"].i18n.translate("user.role.change"),disabled:!t.changeRole}),e.push({click:"password",icon:"key",text:n["a"].i18n.translate("user.password.change"),disabled:!t.changePassword}),e.push({click:"language",icon:"globe",text:n["a"].i18n.translate("user.language.change"),disabled:!t.changeLanguage}),e.push({click:"remove",icon:"trash",text:n["a"].i18n.translate("user.delete"),disabled:!t.delete}),e})},url:function(t,e){var i=t?"users/"+t:"users";return e&&(i+="/"+e),i},link:function(t,e){return"/"+this.url(t,e)}},Ip=Object(l["a"])({config:{onStart:function(){},onComplete:function(){},onSuccess:function(){},onError:function(t){throw window.console.log(t.message),t}},auth:_p,files:wp,pages:xp,roles:Cp,system:Sp,site:jp,translations:Ep,users:Tp},Op),qp=i("L2JU"),Ap={timer:null,namespaced:!0,state:{type:null,message:null,details:null,timeout:null},mutations:{SET:function(t,e){t.type=e.type,t.message=e.message,t.details=e.details,t.timeout=e.timeout},UNSET:function(t){t.type=null,t.message=null,t.details=null,t.timeout=null}},actions:{close:function(t){clearTimeout(this.timer),t.commit("UNSET")},open:function(t,e){t.dispatch("close"),t.commit("SET",e),e.timeout&&(this.timer=setTimeout(function(){t.dispatch("close")},e.timeout))},success:function(t,e){"string"===typeof e&&(e={message:e}),t.dispatch("open",Object(l["a"])({type:"success",timeout:4e3},e))},error:function(t,e){"string"===typeof e&&(e={message:e}),t.dispatch("open",Object(l["a"])({type:"error"},e))}}},Np={namespaced:!0,state:{info:{}},mutations:{SET_INFO:function(t,e){t.info=e}},actions:{load:function(t,e){return!e&&t.state.info.isReady&&t.rootState.user.current?new Promise(function(e){e(t.state.info)}):Ip.system.info({view:"panel"}).then(function(e){return t.commit("SET_INFO",Object(l["a"])({isReady:e.isInstalled&&e.isOk},e)),t.dispatch("translation/install",e.translation,{root:!0}),t.dispatch("translation/activate",e.translation.id,{root:!0}),t.dispatch("user/current",e.user,{root:!0}),t.state.info}).catch(function(){t.commit("SET_INFO",{isBroken:!0})})}}},Lp={namespaced:!0,state:{current:null,installed:[]},mutations:{SET_CURRENT:function(t,e){t.current=e},INSTALL:function(t,e){t.installed[e.id]=e}},actions:{load:function(t,e){return Ip.translations.get(e)},install:function(t,e){t.commit("INSTALL",e),n["a"].i18n.add(e.id,e.data)},activate:function(t,e){var i=t.state.installed[e];i?(n["a"].i18n.set(e),t.commit("SET_CURRENT",e),document.dir=i.direction,document.documentElement.lang=e):t.dispatch("load",e).then(function(i){t.dispatch("install",i),t.dispatch("activate",e)})}}},Bp=i("jE9Z"),Dp=function(t,e,i){Rf.dispatch("system/load").then(function(){var e=Rf.state.user.current;if(!e)return Rf.dispatch("user/visit",t.path),Rf.dispatch("user/logout"),!1;var s=e.permissions.access;return!1===s.panel?(window.location.href=p.site,!1):!1===s[t.meta.view]?(Rf.dispatch("notification/error",{message:n["a"].i18n.translate("error.access.view")}),i("/")):void i()})},Pp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kirby-error-view",{staticClass:"kirby-browser-view"},[!1===t.hasFetchSupport?[i("p",[t._v("\n      We are really sorry, but your browser does not support\n      a feature called "),i("strong",[t._v("Fetch")]),t._v(", which we us\n      to send requests to Kirby's API.\n    ")]),i("p",[t._v("\n      You can find a list of supported browsers for this feature on\n      "),i("strong",[i("a",{attrs:{href:"https://caniuse.com/#feat=fetch"}},[t._v("caniuse.com")])])])]:t._e(),!1===t.hasGridSupport?[i("p",[t._v("\n      We are really sorry, but your browser does not support\n      a feature called "),i("strong",[t._v("CSS Grids")]),t._v(", which we\n      us to layout our panel interface.\n    ")]),i("p",[t._v("\n      You can find a list of supported browsers for this feature on\n      "),i("strong",[i("a",{attrs:{href:"https://caniuse.com/#feat=css-grid"}},[t._v("caniuse.com")])])])]:t._e()],2)},Rp=[],zp={grid:function(){return!(!window.CSS||!window.CSS.supports("display","grid"))},fetch:function(){return void 0!==window.fetch},all:function(){return this.fetch()&&this.grid()}},Mp={computed:{hasFetchSupport:function(){return zp.fetch()},hasGridSupport:function(){return zp.grid()}},created:function(){zp.all()&&this.$router.push("/")}},Hp=Mp,Up=(i("xI7I"),Object(h["a"])(Hp,Pp,Rp,!1,null,null,null)),Vp=Up.exports,Fp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.issue?i("kirby-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):i("div",{staticClass:"kirby-file-view"},[i("kirby-file-preview",{attrs:{file:t.file}}),i("kirby-view",{staticClass:"kirby-file-content"},[i("kirby-header",{attrs:{editable:t.permissions.changeName},on:{edit:function(e){t.action("rename")}}},[t._v("\n\n      "+t._s(t.file.filename)+"\n\n      "),i("kirby-button-group",{attrs:{slot:"left"},slot:"left"},[i("kirby-button",{attrs:{responsive:!0,icon:"open"},on:{click:function(e){t.action("download")}}},[t._v("\n          "+t._s(t.$t("open"))+"\n        ")]),i("kirby-dropdown",[i("kirby-button",{attrs:{responsive:!0,icon:"cog"},on:{click:function(e){t.$refs.settings.toggle()}}},[t._v("\n            "+t._s(t.$t("settings"))+"\n          ")]),i("kirby-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1),t.tabs.length>1?i("kirby-tabs-dropdown",{attrs:{tabs:t.tabs},on:{open:function(e){t.$refs.tabs.open(e)}}}):t._e()],1),t.file.id?i("kirby-button-group",{attrs:{slot:"right"},slot:"right"},[i("kirby-button",t._b({attrs:{disabled:!t.prev,icon:"angle-left"}},"kirby-button",t.prev,!1)),i("kirby-button",t._b({attrs:{disabled:!t.next,icon:"angle-right"}},"kirby-button",t.next,!1))],1):t._e()],1),t.file.id?i("kirby-tabs",{key:"file-"+t.file.id+"-tabs-"+(new Date).getTime(),ref:"tabs",attrs:{parent:t.$api.files.url(t.file.parent.id,t.file.filename),tabs:t.tabs}}):t._e(),i("kirby-file-rename-dialog",{ref:"rename"}),i("kirby-file-remove-dialog",{ref:"remove",on:{success:function(e){t.$router.push("/pages/"+t.path)}}}),i("kirby-upload",{ref:"upload",attrs:{url:t.uploadApi,accept:t.file.mime,multiple:!1},on:{success:t.uploaded}})],1)],1)},Kp=[],Wp={created:function(){this.fetch(),this.$events.$on("keydown.left",this.toPrev),this.$events.$on("keydown.right",this.toNext)},destroyed:function(){this.$events.$off("keydown.left",this.toPrev),this.$events.$off("keydown.right",this.toNext)},watch:{$route:function(){this.fetch()}},methods:{toPrev:function(t){this.prev&&"body"===t.target.localName&&this.$router.push(this.prev.link)},toNext:function(t){this.next&&"body"===t.target.localName&&this.$router.push(this.next.link)}}},Gp={mixins:[Wp],props:{path:{type:String,required:!0},filename:{type:String,required:!0}},data:function(){return{name:"",preview:{},file:{id:null,parent:null,filename:"",url:"",prev:null,next:null,mime:null,content:{}},permissions:{changeName:!1,delete:!1},issue:null,tabs:[],options:null}},computed:{uploadApi:function(){return p.api+"/pages/"+this.path+"/files/"+this.filename},prev:function(){if(this.file.prev)return{link:this.$api.files.link(this.file.parent.id,this.file.prev.filename),tooltip:this.file.prev.filename}},next:function(){if(this.file.next)return{link:this.$api.files.link(this.file.parent.id,this.file.next.filename),tooltip:this.file.next.filename}}},methods:{fetch:function(){var t=this;this.$api.files.get(this.path,this.filename,{view:"panel"}).then(function(e){t.file=e,t.file.next=e.nextWithTemplate,t.file.prev=e.prevWithTemplate,t.file.url=e.url+"?v="+e.modified,t.name=e.name,t.tabs=e.blueprint.tabs,t.permissions=e.blueprint.options,t.preview=t.$api.files.preview(e),t.options=function(e){t.$api.files.options(t.file.parent.id,t.file.filename).then(function(t){e(t)})},t.$store.dispatch("breadcrumb",t.$api.files.breadcrumb(e)),t.$store.dispatch("title",t.filename)}).catch(function(e){window.console.error(e),t.issue=e})},action:function(t){switch(t){case"download":window.open(this.file.url);break;case"rename":this.$refs.rename.open(this.file.parent.id,this.file.filename);break;case"replace":this.$refs.upload.open({url:p.api+"/"+this.$api.files.url(this.file.parent.id,this.file.filename),accept:this.file.mime});break;case"remove":this.$refs.remove.open(this.file.parent.id,this.file.filename);break}},updateFilename:function(t){var e=this;if(t=xl(t),0!==t.length)return t===this.name||void this.$api.files.rename(this.path,this.file.filename,t).then(function(t){e.$router.push("/pages/"+e.path+"/files/"+t.filename),e.$store.dispatch("notification/success",e.$t("file.renamed"))});this.$store.dispatch("alert",this.$t("error.file.name.missing"))},uploaded:function(){this.fetch(),this.$store.dispatch("notification/success",this.$t("file.replaced"))}}},Jp=Gp,Yp=Object(h["a"])(Jp,Fp,Kp,!1,null,null,null),Zp=Yp.exports,Qp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.system?i("kirby-view",{staticClass:"kirby-installation-view",attrs:{align:"center"}},[t.system.isOk&&!t.system.isInstalled?i("form",{on:{submit:function(e){return e.preventDefault(),t.install(e)}}},[i("kirby-fieldset",{attrs:{fields:t.fields},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),i("kirby-button",{attrs:{type:"submit",icon:"check"}},[t._v(t._s(t.$t("install")))])],1):t.system.isInstalled?i("kirby-text",[i("kirby-headline",[t._v("The panel is already installed")]),i("kirby-link",{attrs:{to:"/login"}},[t._v("Login now")])],1):i("div",[i("kirby-headline",[t._v(t._s(t.$t("installation.issues.headline")))]),i("ul",{staticClass:"kirby-installation-issues"},[!1===t.requirements.php?i("li",[i("kirby-icon",{attrs:{type:"alert"}}),i("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.php"))}})],1):t._e(),!1===t.requirements.server?i("li",[i("kirby-icon",{attrs:{type:"alert"}}),i("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.server"))}})],1):t._e(),!1===t.requirements.mbstring?i("li",[i("kirby-icon",{attrs:{type:"alert"}}),i("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.mbstring"))}})],1):t._e(),!1===t.requirements.curl?i("li",[i("kirby-icon",{attrs:{type:"alert"}}),i("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.curl"))}})],1):t._e(),!1===t.requirements.accounts?i("li",[i("kirby-icon",{attrs:{type:"alert"}}),i("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.accounts"))}})],1):t._e(),!1===t.requirements.content?i("li",[i("kirby-icon",{attrs:{type:"alert"}}),i("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.content"))}})],1):t._e(),!1===t.requirements.media?i("li",[i("kirby-icon",{attrs:{type:"alert"}}),i("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.media"))}})],1):t._e()]),i("kirby-button",{attrs:{icon:"refresh"},on:{click:t.check}},[i("span",{domProps:{innerHTML:t._s(t.$t("retry"))}})])],1)],1):t._e()},Xp=[],tf={data:function(){return{user:{email:"",language:"en",password:"",role:"admin"},languages:[],system:null}},computed:{requirements:function(){return this.system?this.system.requirements:{}},fields:function(){return{email:{label:this.$t("user.email"),type:"email",link:!1,placeholder:this.$t("user.email.placeholder"),required:!0,autofocus:!0},password:{label:this.$t("user.password"),type:"password",placeholder:this.$t("user.password")+" â€¦",required:!0},language:{label:this.$t("user.language"),type:"select",options:this.languages,icon:"globe",empty:!1,required:!0}}}},watch:{"user.language":function(t){this.$store.dispatch("translation/activate",t)}},created:function(){this.check()},methods:{install:function(){var t=this;this.$api.system.install(this.user).then(function(e){t.$store.dispatch("user/current",e),t.$store.dispatch("notification/success","Welcome!"),t.$router.push("/")}).catch(function(e){t.$store.dispatch("notification/error",e)})},check:function(){var t=this;this.$store.dispatch("system/load",!0).then(function(e){!0===e.isInstalled&&t.$router.push("/login"),t.$api.translations.options().then(function(i){t.languages=i,t.system=e,t.$store.dispatch("title",t.$t("view.installation"))})})}}},ef=tf,nf=(i("pZDt"),Object(h["a"])(ef,Qp,Xp,!1,null,null,null)),sf=nf.exports,rf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.issue?i("kirby-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):t.ready?i("kirby-view",{staticClass:"kirby-login-view",attrs:{align:"center"}},[i("form",{staticClass:"kirby-login-form",attrs:{"data-invalid":t.invalid},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("kirby-fieldset",{attrs:{fields:t.fields},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),i("div",{staticClass:"kirby-login-buttons"},[i("label",{staticClass:"kirby-login-checkbox"},[i("kirby-checkbox-input",{attrs:{value:t.user.remember,label:"Keep me logged in"},on:{input:function(e){t.user.remember=e}}})],1),i("kirby-button",{staticClass:"kirby-login-button",attrs:{disabled:!t.valid,icon:"check",type:"submit"}},[t._v("\n        "+t._s(t.$t("login"))+"\n      ")])],1)],1)]):t._e()},af=[],of={data:function(){return{ready:!1,issue:null,invalid:!1,user:{email:"",password:"",remember:!1}}},computed:{fields:function(){return{email:{autofocus:!0,label:this.$t("user.email"),type:"email",link:!1,placeholder:this.$t("user.email.placeholder")},password:{label:this.$t("user.password"),type:"password",minLength:8,counter:!1}}},valid:function(){return this.user.email.length&&this.user.password.length>=8}},created:function(){var t=this;this.$store.dispatch("system/load").then(function(e){e.isReady||t.$router.push("/installation"),t.ready=!0,t.$store.dispatch("title",t.$t("login"))}).catch(function(e){t.issue=e})},methods:{login:function(){var t=this;this.invalid=!1,this.$store.dispatch("user/login",this.user).then(function(){t.$store.dispatch("notification/success",t.$t("welcome"))}).catch(function(){t.invalid=!0})}}},lf=of,uf=(i("UIot"),Object(h["a"])(lf,rf,af,!1,null,null,null)),cf=uf.exports,pf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.issue?i("kirby-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):i("kirby-view",{staticClass:"kirby-page-view"},[i("kirby-header",{attrs:{tabs:t.tabs,tab:t.tab,editable:t.permissions.changeTitle},on:{edit:function(e){t.action("rename")}}},[t._v("\n    "+t._s(t.page.title)+"\n    "),i("kirby-button-group",{attrs:{slot:"left"},slot:"left"},[i("kirby-button",{attrs:{responsive:!0,icon:"open"},on:{click:function(e){t.action("preview")}}},[t._v("\n        "+t._s(t.$t("open"))+"\n      ")]),t.status?i("kirby-button",{class:["kirby-status-flag","kirby-status-flag-"+t.page.status],attrs:{disabled:!1===t.permissions.changeStatus,icon:!1===t.permissions.changeStatus?"protected":"circle",responsive:!0},on:{click:function(e){t.action("status")}}},[t._v("\n        "+t._s(t.status.label)+"\n      ")]):t._e(),i("kirby-dropdown",[i("kirby-button",{attrs:{responsive:!0,icon:"cog"},on:{click:function(e){t.$refs.settings.toggle()}}},[t._v("\n          "+t._s(t.$t("settings"))+"\n        ")]),i("kirby-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1)],1),t.page.id?i("kirby-button-group",{attrs:{slot:"right"},slot:"right"},[i("kirby-button",t._b({attrs:{disabled:!t.prev,icon:"angle-left"}},"kirby-button",t.prev,!1)),i("kirby-button",t._b({attrs:{disabled:!t.next,icon:"angle-right"}},"kirby-button",t.next,!1))],1):t._e()],1),t.page.id?i("kirby-tabs",{key:"page-"+t.page.id+"-tabs-"+(new Date).getTime(),ref:"tabs",attrs:{parent:t.$api.pages.url(t.page.id),blueprint:t.blueprint,tabs:t.tabs},on:{tab:function(e){t.tab=e}}}):t._e(),i("kirby-page-rename-dialog",{ref:"rename",on:{success:t.fetch}}),i("kirby-page-url-dialog",{ref:"url"}),i("kirby-page-status-dialog",{ref:"status",on:{success:t.fetch}}),i("kirby-page-template-dialog",{ref:"template",on:{success:t.fetch}}),i("kirby-page-remove-dialog",{ref:"remove"})],1)},ff=[],df={mixins:[Wp],props:{path:{type:String,required:!0}},data:function(){return{page:{title:"",id:null,prev:null,next:null,status:null},blueprint:null,permissions:{changeTitle:!1,changeStatus:!1},icon:"page",issue:null,tab:null,tabs:[],options:null}},computed:{prev:function(){if(this.page.prev)return{link:this.$api.pages.link(this.page.prev.id),tooltip:this.page.prev.title}},next:function(){if(this.page.next)return{link:this.$api.pages.link(this.page.next.id),tooltip:this.page.next.title}},status:function(){return null!==this.page.status?this.$api.pages.states()[this.page.status]:null}},methods:{fetch:function(){var t=this;this.$api.pages.get(this.path,{view:"panel"}).then(function(e){t.page=e,t.blueprint=e.blueprint.name,t.permissions=e.blueprint.options,t.tabs=e.blueprint.tabs,t.options=function(e){t.$api.pages.options(t.page.id).then(function(t){e(t)})},t.$store.dispatch("breadcrumb",t.$api.pages.breadcrumb(e)),t.$store.dispatch("title",t.page.title)}).catch(function(e){t.issue=e})},action:function(t){switch(t){case"preview":window.open(this.page.url);break;case"rename":this.$refs.rename.open(this.page.id);break;case"url":this.$refs.url.open(this.page.id);break;case"status":this.$refs.status.open(this.page.id);break;case"template":this.$refs.template.open(this.page.id);break;case"remove":this.$refs.remove.open(this.page.id);break;default:this.$store.dispatch("notification/error",this.$t("notification.notImplemented"));break}}}},hf=df,mf=(i("ILq4"),Object(h["a"])(hf,pf,ff,!1,null,null,null)),bf=mf.exports,gf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.issue?i("kirby-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):i("kirby-view",{key:"site-view",staticClass:"kirby-site-view"},[i("kirby-header",{attrs:{tabs:t.tabs,tab:t.tab,editable:t.permissions.changeTitle},on:{edit:function(e){t.action("rename")}}},[t._v("\n    "+t._s(t.site.title)+"\n    "),i("kirby-button-group",{attrs:{slot:"left"},slot:"left"},[i("kirby-button",{attrs:{icon:"open"},on:{click:function(e){t.action("preview")}}},[t._v("\n        "+t._s(t.$t("open"))+"\n      ")]),i("kirby-dropdown",[i("kirby-button",{attrs:{icon:"cog"},on:{click:function(e){t.$refs.settings.toggle()}}},[t._v("\n          "+t._s(t.$t("settings"))+"\n        ")]),i("kirby-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1)],1)],1),t.site.url?i("kirby-tabs",{ref:"tabs",attrs:{tabs:t.tabs,parent:"site"},on:{tab:function(e){t.tab=e}}}):t._e(),i("kirby-site-rename-dialog",{ref:"rename",on:{success:t.fetch}})],1)},vf=[],yf={data:function(){return{site:{title:null,url:null},issue:null,tab:null,tabs:[],options:null,permissions:{changeTitle:!0}}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;this.$api.site.get({view:"panel"}).then(function(e){t.site=e,t.tabs=e.blueprint.tabs,t.permissions=e.blueprint.options,t.options=function(e){t.$api.site.options().then(function(t){e(t)})},t.$store.dispatch("breadcrumb",[]),t.$store.dispatch("title",t.$t("view.site"))}).catch(function(e){t.issue=e})},action:function(t){switch(t){case"preview":window.open(this.site.url);break;case"rename":this.$refs.rename.open();break;default:this.$store.dispatch("notification/error",this.$t("notification.notImplemented"));break}}}},kf=yf,$f=Object(h["a"])(kf,gf,vf,!1,null,null,null),_f=$f.exports,wf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.issue?i("kirby-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):i("kirby-view",{staticClass:"kirby-users-view"},[i("kirby-header",[t._v("\n    "+t._s(t.$t("view.users"))+"\n    "),i("kirby-button-group",{attrs:{slot:"left"},slot:"left"},[i("kirby-button",{attrs:{disabled:!1===t.$permissions.users.create,icon:"add"},on:{click:function(e){t.$refs.create.open()}}},[t._v(t._s(t.$t("user.create")))])],1),i("kirby-button-group",{attrs:{slot:"right"},slot:"right"},[i("kirby-dropdown",[i("kirby-button",{attrs:{responsive:!0,icon:"funnel"},on:{click:function(e){t.$refs.roles.toggle()}}},[t._v("\n          "+t._s(t.$t("user.role"))+": "+t._s(t.role?t.role.text:t.$t("user.role.all"))+"\n        ")]),i("kirby-dropdown-content",{ref:"roles",attrs:{align:"right"}},[i("kirby-dropdown-item",{attrs:{icon:"bolt"},on:{click:function(e){t.filter(!1)}}},[t._v("\n            "+t._s(t.$t("user.role.all"))+"\n          ")]),i("hr"),t._l(t.roles,function(e){return i("kirby-dropdown-item",{key:e.value,attrs:{icon:"bolt"},on:{click:function(i){t.filter(e)}}},[t._v("\n            "+t._s(e.text)+"\n          ")])})],2)],1)],1)],1),t.users.length>0?[i("kirby-collection",{attrs:{items:t.users,pagination:t.pagination},on:{paginate:t.paginate,action:t.action}})]:0===t.total?[i("kirby-box",{attrs:{text:t.$t("user.none")}})]:t._e(),i("kirby-user-create-dialog",{ref:"create",on:{success:t.fetch}}),i("kirby-user-email-dialog",{ref:"email",on:{success:t.fetch}}),i("kirby-user-language-dialog",{ref:"language",on:{success:t.fetch}}),i("kirby-user-password-dialog",{ref:"password"}),i("kirby-user-remove-dialog",{ref:"remove",on:{success:t.fetch}}),i("kirby-user-rename-dialog",{ref:"rename",on:{success:t.fetch}}),i("kirby-user-role-dialog",{ref:"role",on:{success:t.fetch}})],2)},xf=[],Of={data:function(){return{page:1,limit:20,total:null,users:[],roles:[],issue:null}},computed:{pagination:function(){return{page:this.page,limit:this.limit}},role:function(){var t=this,e=null;return this.$route.params.role&&this.roles.forEach(function(i){i.value===t.$route.params.role&&(e=i)}),e}},watch:{$route:function(){this.fetch()}},created:function(){var t=this;this.$api.roles.options().then(function(e){t.roles=e,t.fetch()})},methods:{fetch:function(){var t=this;this.$store.dispatch("title",this.$t("view.users"));var e={paginate:{page:this.page,limit:this.limit}};this.role&&(e.filterBy=[{field:"role",operator:"==",value:this.role.value}]),this.$api.users.list(e).then(function(e){t.total=e.pagination.total,t.users=e.data.map(function(e){var i={id:e.id,icon:{type:"user",back:"black"},text:e.name||e.email,info:e.role.title,link:"/users/"+e.id,options:function(i){t.$api.users.options(e.id,"list").then(function(t){return i(t)})},image:null};return!0===e.avatar.exists&&(i.image={url:e.avatar.url+"?v="+e.avatar.modified,cover:!0}),i}),t.role?t.$store.dispatch("breadcrumb",[{link:"/users/role/"+t.role.value,label:t.$t("user.role")+": "+t.role.text}]):t.$store.dispatch("breadcrumb",[])}).catch(function(e){t.issue=e})},paginate:function(t){this.page=t.page,this.limit=t.limit},action:function(t,e){switch(e){case"edit":this.$router.push("/users/"+t.id);break;case"email":this.$refs.email.open(t.id);break;case"role":this.$refs.role.open(t.id);break;case"rename":this.$refs.rename.open(t.id);break;case"password":this.$refs.password.open(t.id);break;case"language":this.$refs.language.open(t.id);break;case"remove":this.$refs.remove.open(t.id);break}},filter:function(t){!1===t?this.$router.push("/users"):this.$router.push("/users/role/"+t.value),this.$refs.roles.close()}}},Cf=Of,Sf=Object(h["a"])(Cf,wf,xf,!1,null,null,null),jf=Sf.exports,Ef=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.issue?i("kirby-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):t.ready?i("div",{staticClass:"kirby-user-view"},[i("div",{staticClass:"kirby-user-profile"},[i("kirby-view",[t.avatar?[i("kirby-dropdown",[i("kirby-button",{staticClass:"kirby-user-view-image",on:{click:function(e){t.$refs.picture.toggle()}}},[t.avatar?i("kirby-image",{attrs:{cover:!0,src:t.avatar,ratio:"1/1"}}):t._e()],1),i("kirby-dropdown-content",{ref:"picture"},[i("kirby-dropdown-item",{attrs:{icon:"upload"},on:{click:function(e){t.$refs.upload.open()}}},[t._v("\n              "+t._s(t.$t("change"))+"\n            ")]),i("kirby-dropdown-item",{attrs:{icon:"trash"},on:{click:function(e){t.action("picture.delete")}}},[t._v("\n              "+t._s(t.$t("delete"))+"\n            ")])],1)],1)]:[i("kirby-button",{staticClass:"kirby-user-view-image",on:{click:function(e){t.$refs.upload.open()}}},[i("kirby-icon",{attrs:{type:"user"}})],1)],i("kirby-button-group",[i("kirby-button",{attrs:{disabled:!t.permissions.changeEmail,icon:"email"},on:{click:function(e){t.action("email")}}},[t._v(t._s(t.$t("user.email"))+": "+t._s(t.user.email))]),i("kirby-button",{attrs:{disabled:!t.permissions.changeRole,icon:"bolt"},on:{click:function(e){t.action("role")}}},[t._v(t._s(t.$t("user.role"))+": "+t._s(t.user.role.title))]),i("kirby-button",{attrs:{disabled:!t.permissions.changeLanguage,icon:"globe"},on:{click:function(e){t.action("language")}}},[t._v(t._s(t.$t("user.language"))+": "+t._s(t.user.language))])],1)],2)],1),i("kirby-view",[i("kirby-header",{attrs:{editable:t.permissions.changeName,tabs:t.tabs,tab:t.tab},on:{edit:function(e){t.action("rename")}}},[t.user.name&&0!==t.user.name.length?[t._v(t._s(t.user.name))]:i("span",{staticClass:"kirby-user-name-placeholder"},[t._v(t._s(t.$t("user.name"))+" â€¦")]),i("kirby-button-group",{attrs:{slot:"left"},slot:"left"},[i("kirby-dropdown",[i("kirby-button",{attrs:{icon:"cog"},on:{click:function(e){t.$refs.settings.toggle()}}},[t._v("\n            "+t._s(t.$t("settings"))+"\n          ")]),i("kirby-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1)],1),t.user.id&&"User"===t.$route.name?i("kirby-button-group",{attrs:{slot:"right"},slot:"right"},[i("kirby-button",t._b({attrs:{disabled:!t.prev,icon:"angle-left"}},"kirby-button",t.prev,!1)),i("kirby-button",t._b({attrs:{disabled:!t.next,icon:"angle-right"}},"kirby-button",t.next,!1))],1):t._e()],2),t.user&&t.tabs.length?i("kirby-tabs",{key:"user-"+t.user.id+"-tabs-"+(new Date).getTime(),ref:"tabs",attrs:{parent:"users/"+t.user.id,tabs:t.tabs},on:{tab:function(e){t.tab=e}}}):t.ready?i("kirby-box",{attrs:{text:t.$t("user.blueprint",{role:t.user.role.name}),theme:"info"}}):t._e(),i("kirby-user-email-dialog",{ref:"email"}),i("kirby-user-language-dialog",{ref:"language",on:{success:t.fetch}}),i("kirby-user-password-dialog",{ref:"password"}),i("kirby-user-remove-dialog",{ref:"remove"}),i("kirby-user-rename-dialog",{ref:"rename",on:{success:t.fetch}}),i("kirby-user-role-dialog",{ref:"role",on:{success:t.fetch}}),i("kirby-upload",{ref:"upload",attrs:{url:t.uploadApi,multiple:!1,accept:"image/jpeg"},on:{success:t.uploadedAvatar}})],1)],1):t._e()},Tf=[],If={mixins:[Wp],props:{id:{type:String,required:!0}},data:function(){return{tab:null,tabs:[],ready:!1,user:{role:{name:null},name:null,language:null,prev:null,next:null},permissions:{changeEmail:!0,changeName:!0,changeLanguage:!0,changeRole:!0},issue:null,avatar:null,options:null}},computed:{prev:function(){if(this.user.prev)return{link:this.$api.users.link(this.user.prev.id),tooltip:this.user.prev.name}},next:function(){if(this.user.next)return{link:this.$api.users.link(this.user.next.id),tooltip:this.user.next.name}},uploadApi:function(){return p.api+"/users/"+this.user.id+"/avatar"}},methods:{action:function(t){var e=this;switch(t){case"email":this.$refs.email.open(this.user.id);break;case"language":this.$refs.language.open(this.user.id);break;case"password":this.$refs.password.open(this.user.id);break;case"picture.delete":this.$api.users.deleteAvatar(this.id).then(function(){e.$store.dispatch("notification/success",e.$t("user.avatar.deleted")),e.avatar=null});break;case"remove":this.$refs.remove.open(this.user.id);break;case"rename":this.$refs.rename.open(this.user.id);break;case"role":this.$refs.role.open(this.user.id);break;default:this.$store.dispatch("notification/error","Not yet implemented")}},fetch:function(){var t=this;this.$api.users.get(this.id,{view:"panel"}).then(function(e){t.user=e,t.tabs=e.blueprint.tabs,t.ready=!0,t.permissions=e.blueprint.options,t.options=function(e){t.$api.users.options(t.user.id).then(function(t){e(t)})},e.avatar.exists?t.avatar=e.avatar.url+"?v="+e.avatar.modified:t.avatar=null,"User"===t.$route.name?t.$store.dispatch("breadcrumb",t.$api.users.breadcrumb(e)):t.$store.dispatch("breadcrumb",[]),t.$store.dispatch("title",t.user.name||t.user.email)}).catch(function(e){t.issue=e})},uploadedAvatar:function(){this.$store.dispatch("notification/success",this.$t("user.avatar.uploaded")),this.fetch()}}},qf=If,Af=(i("NHEA"),Object(h["a"])(qf,Ef,Tf,!1,null,null,null)),Nf=Af.exports,Lf=[{path:"/",name:"Home",redirect:"/site"},{path:"/browser",name:"Browser",component:Vp,meta:{outside:!0}},{path:"/login",component:cf,meta:{outside:!0}},{path:"/logout",beforeEnter:function(){Rf.dispatch("user/logout")},meta:{outside:!0}},{path:"/installation",component:sf,meta:{outside:!0}},{path:"/site",name:"Site",meta:{view:"site"},component:_f,beforeEnter:Dp},{path:"/site/files/:filename",name:"SiteFile",meta:{view:"site"},component:Zp,beforeEnter:Dp,props:function(t){return{path:null,filename:t.params.filename}}},{path:"/pages/:path+/files/:filename",name:"File",meta:{view:"site"},component:Zp,beforeEnter:Dp,props:function(t){return{path:t.params.path,filename:t.params.filename}}},{path:"/pages/:path+",name:"Page",meta:{view:"site"},component:bf,beforeEnter:Dp,props:function(t){return{path:t.params.path}}},{path:"/users/role/:role",name:"UsersByRole",meta:{view:"users"},component:jf,beforeEnter:Dp,props:function(t){return{role:t.params.role}}},{path:"/users",name:"Users",meta:{view:"users"},beforeEnter:Dp,component:jf},{path:"/users/:id",name:"User",meta:{view:"users"},component:Nf,beforeEnter:Dp,props:function(t){return{id:t.params.id}}},{path:"/account",name:"Account",meta:{view:"account"},component:Nf,beforeEnter:Dp,props:function(){return{id:Rf.state.user.current.id}}},{path:"*",name:"NotFound",beforeEnter:function(t,e,i){i("/")}}];n["a"].use(Bp["a"]);var Bf=new Bp["a"]({mode:"history",routes:Lf.concat(window.panel.plugins.routes),url:"/"===p.url?"":p.url});Bf.beforeEach(function(t,e,i){"Browser"!==t.name&&!1===zp.all()&&i("/browser"),Rf.dispatch("view",t.meta.view),t.meta.outside||Rf.dispatch("user/visit",t.path),i()});var Df=Bf,Pf={namespaced:!0,state:{current:null,path:null},mutations:{SET_CURRENT:function(t,e){t.current=e,e&&e.permissions?(n["a"].prototype.$user=e,n["a"].prototype.$permissions=e.permissions):(n["a"].prototype.$user=null,n["a"].prototype.$permissions=null)},SET_PATH:function(t,e){t.path=e}},actions:{current:function(t,e){t.commit("SET_CURRENT",e)},language:function(t,e){t.dispatch("translation/activate",e,{root:!0}),t.commit("SET_CURRENT",Object(l["a"])({language:e},t.state.current))},load:function(t){return Ip.auth.user().then(function(e){return t.commit("SET_CURRENT",e),e})},login:function(t,e){return Ip.auth.login(e).then(function(e){return t.commit("SET_CURRENT",e),Df.push(t.state.path||"/"),e})},logout:function(t){Ip.auth.logout().then(function(){t.commit("SET_CURRENT",null),Df.push("/login")}).catch(function(){t.commit("SET_CURRENT",null),Df.push("/login")})},visit:function(t,e){t.commit("SET_PATH",e)}}};n["a"].use(qp["a"]);var Rf=new qp["a"].Store({state:{breadcrumb:[],isLoading:!1,title:null,view:null,search:!1,drag:null},mutations:{SET_BREADCRUMB:function(t,e){t.breadcrumb=e},SET_DRAG:function(t,e){t.drag=e},SET_SEARCH:function(t,e){!0===e&&(e={}),t.search=e},SET_TITLE:function(t,e){t.title=e},SET_VIEW:function(t,e){t.view=e},START_LOADING:function(t){t.isLoading=!0},STOP_LOADING:function(t){t.isLoading=!1}},actions:{breadcrumb:function(t,e){t.commit("SET_BREADCRUMB",e)},drag:function(t,e){t.commit("SET_DRAG",e)},isLoading:function(t,e){t.commit(!0===e?"START_LOADING":"STOP_LOADING")},search:function(t,e){t.commit("SET_SEARCH",e)},title:function(t,e){t.commit("SET_TITLE",e),document.title=e,t.state.system.info.title&&(document.title+=" | "+t.state.system.info.title)},view:function(t,e){t.commit("SET_VIEW",e)}},modules:{notification:Ap,system:Np,translation:Lp,user:Pf}});Ip.config.endpoint=p.api,Ip.config.onStart=function(){Rf.dispatch("isLoading",!0)},Ip.config.onComplete=function(){Rf.dispatch("isLoading",!1)},Ip.config.onError=function(t){p.debug&&window.console.error(t),"Unauthenticated"===t.message&&Rf.dispatch("user/logout")};var zf=setInterval(Ip.auth.user,3e5);Ip.config.onSuccess=function(){clearInterval(zf),zf=setInterval(Ip.auth.user,3e5)},n["a"].prototype.$api=Ip,n["a"].config.errorHandler=function(t){p.debug&&window.console.error(t),Rf.dispatch("notification/error",{message:t.message||"An error occurred. Please reload the panel"})},window.panel=window.panel||{},window.panel.error=function(t,e){p.debug&&window.console.error(t+": "+e),Rf.dispatch("error",t+". See the console for more information.")};var Mf=i("8vP8");n["a"].use(Mf["a"].plugin,Rf),n["a"].filter("t",function(t,e){return e?n["a"].i18n.translate(e,t):t});var Hf=i("k5N+"),Uf=(i("/8Fb"),function(t,e){n["a"].options.components[t]&&window.console.warn('Plugin is replacing "'.concat(t,'"')),n["a"].component(t,e)});Object.entries(window.panel.plugins.components).forEach(function(t){var e=Object(Hf["a"])(t,2),i=e[0],n=e[1];Uf(i,n)}),Object.entries(window.panel.plugins.fields).forEach(function(t){var e=Object(Hf["a"])(t,2),i=e[0],n=e[1];n.template||n.render?(n.mixins||(n.mixins=[]),Uf(i,n)):Rf.dispatch("notification/error",'No template or render method provided when loading plugin field "'.concat(i,'". The field has not been registered.'))}),Object.entries(window.panel.plugins.translations).forEach(function(t){var e=Object(Hf["a"])(t,2),i=e[0],s=e[1];n["a"].i18n.add(i,s)}),Object.entries(window.panel.plugins.views).forEach(function(t){var e=Object(Hf["a"])(t,2),i=e[0],n=e[1];if(!n.component)return Rf.dispatch("notification/error",'No view component provided when loading view "'.concat(i,'". The view has not been registered.')),void delete window.panel.plugins.views[i];n.link||(n.link="/plugin/"+q(i)),n.icon||(n.icon="page"),n.menu||(n.menu=!0),n.route?(n.route.name||(n.route.name=I(i)),n.route.path||(n.route.name=n.link),n.route.meta?n.route.meta.view||(n.route.meta.view=i):n.route.meta={view:i},n.route.beforeEnter||(n.route.beforeEnter=Dp)):n.route={name:i,path:n.link,beforeEnter:Dp},window.panel.plugins.routes.push(Object(l["a"])({},n.route,{component:n.component})),window.panel.plugins.views[i]={link:n.link,icon:n.icon,menu:n.menu}}),window.panel.plugins.use.forEach(function(t){n["a"].use(t)});var Vf={install:function(t){t.prototype.$cache={id:function(t,e){return"Account"===t.name?"/users/"+e.state.user.current.id+t.hash:t.path+t.hash},exists:function(t){return null!==this.get(t)},get:function(t){var e=localStorage.getItem(t);return e&&JSON.parse(e)},set:function(t,e){e=Object.assign({},this.get(t)||{},e),localStorage.setItem(t,JSON.stringify(e))},field:function(t,e,i){var n=this.get(t)||{};n[e]=i,this.set(t,n)},remove:function(t){localStorage.removeItem(t)}}}};n["a"].config.productionTip=!1,n["a"].use(Vf),window.panel.app=new n["a"]({router:Df,store:Rf,render:function(t){return t(C)}}).$mount("#app")},Wtuw:function(t,e,i){},Xrkt:function(t,e,i){"use strict";var n=i("vxs5"),s=i.n(n);s.a},YCRq:function(t,e,i){},YNJe:function(t,e,i){"use strict";var n=i("T1cW"),s=i.n(n);s.a},Yf4S:function(t,e,i){},Yu5e:function(t,e,i){},ZQwn:function(t,e,i){"use strict";var n=i("8l0H"),s=i.n(n);s.a},Zt3q:function(t,e,i){},a8Mi:function(t,e,i){"use strict";var n=i("JuT4"),s=i.n(n);s.a},aNvU:function(t,e,i){"use strict";var n=i("GDe0"),s=i.n(n);s.a},aTql:function(t,e,i){},aZ2t:function(t,e,i){"use strict";var n=i("OG5R"),s=i.n(n);s.a},anrZ:function(t,e,i){"use strict";var n=i("BERb"),s=i.n(n);s.a},avO6:function(t,e,i){"use strict";var n=i("bIGK"),s=i.n(n);s.a},bIGK:function(t,e,i){},"c/De":function(t,e,i){},d791:function(t,e,i){"use strict";var n=i("Zt3q"),s=i.n(n);s.a},dv9g:function(t,e,i){"use strict";var n=i("8SgZ"),s=i.n(n);s.a},efzP:function(t,e,i){},g64F:function(t,e,i){},gJ05:function(t,e,i){},hKzj:function(t,e,i){"use strict";var n=i("xpb3"),s=i.n(n);s.a},hX7B:function(t,e,i){"use strict";var n=i("aTql"),s=i.n(n);s.a},j2Xn:function(t,e,i){"use strict";var n=i("kfnT"),s=i.n(n);s.a},kfnT:function(t,e,i){},mf0V:function(t,e,i){"use strict";var n=i("SETK"),s=i.n(n);s.a},mncL:function(t,e,i){"use strict";var n=i("VRjG"),s=i.n(n);s.a},mpKO:function(t,e,i){},n5Mj:function(t,e,i){"use strict";var n=i("PF68"),s=i.n(n);s.a},nNx0:function(t,e,i){"use strict";var n=i("uWEC"),s=i.n(n);s.a},nxc5:function(t,e,i){},ovhJ:function(t,e,i){},"p+uK":function(t,e,i){"use strict";var n=i("9ozV"),s=i.n(n);s.a},pImj:function(t,e,i){},pZDt:function(t,e,i){"use strict";var n=i("g64F"),s=i.n(n);s.a},q75U:function(t,e,i){"use strict";var n=i("7ALn"),s=i.n(n);s.a},qDz6:function(t,e,i){"use strict";var n=i("Ku8N"),s=i.n(n);s.a},"sIC+":function(t,e,i){"use strict";var n=i("+PK2"),s=i.n(n);s.a},uBjD:function(t,e,i){"use strict";var n=i("c/De"),s=i.n(n);s.a},uWEC:function(t,e,i){},v3z5:function(t,e,i){},vU6B:function(t,e,i){"use strict";var n=i("v3z5"),s=i.n(n);s.a},vbVY:function(t,e,i){"use strict";var n=i("M5gg"),s=i.n(n);s.a},vxs5:function(t,e,i){},wAcn:function(t,e,i){"use strict";var n=i("DdsP"),s=i.n(n);s.a},wyKD:function(t,e,i){"use strict";var n=i("zZbm"),s=i.n(n);s.a},xI7I:function(t,e,i){"use strict";var n=i("7gCk"),s=i.n(n);s.a},xOR0:function(t,e,i){"use strict";var n=i("nxc5"),s=i.n(n);s.a},xpb3:function(t,e,i){},yAVa:function(t,e,i){"use strict";var n=i("JgmC"),s=i.n(n);s.a},yxWV:function(t,e,i){},"z/ml":function(t,e,i){"use strict";var n=i("7Zch"),s=i.n(n);s.a},zQw3:function(t,e,i){"use strict";var n=i("3Bb8"),s=i.n(n);s.a},zZag:function(t,e,i){},zZbm:function(t,e,i){},ziCH:function(t,e,i){}});